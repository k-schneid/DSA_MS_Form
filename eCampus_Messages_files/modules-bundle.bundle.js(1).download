define("pets-client-core/2.6.0/public/javascript/analyticseventsenum", [],{DockHidden:"core.dock.hidden",DockLocked:"core.dock.locked",DockUnlocked:"core.dock.unlocked",PetShown:"core.pet.shown",ChatError:"chat.error",MessageSent:"chat.message.sent",MessageReceived:"chat.message.received",ConversationSelected:"chat.conversation.selected",ViewGroupChatParticipants:"view-group-chat-participants",ContactsInvited:"chat.contacts.invited",ContactsFiltered:"chat.contacts.filtered",ContactsSearched:"chat.contacts.searched",FriendRequest:"chat.friend.requested",StartConversation:"chat.conversation.started",StartGroupChat:"chat.groupchat.started",PreferenceSet:"chat.preference.set",PresenceSet:"chat.presence.set",StatusSet:"chat.status.set",LogoutClicked:"core.logout.clicked"});

define("pets-client-core/2.6.0/public/javascript/petsbardisplaytypeenum", [],{Caption:1,Icon:2,Both:3});

define("pets-client-core/2.6.0/public/javascript/petsbarmessagetypeenum", [],{Information:1,Warning:2,Error:3});

define("pets-client-core/2.6.0/public/javascript/petsconfig", ["ncf-thirdparty/jquery-1.7.1/public/javascript/jquery","ncf-connectors/1.1.1/public/javascript/httpconnectorfactory","ncf-thirdparty/json-2/public/javascript/json"],function(a,b,c){function d(a,d){var e;""===a&&d(null),e=a.match(/\//)?"/te/{config_path}.json".replace(/\{config_path\}/g,a):"/te/pets-client-core/2.6.0/public/config/{config_path}.json".replace(/\{config_path\}/g,a),b.createHttpConnector(e).get({},function(a,b){if(a)if(200===a.status&&"OK"===a.statusText&&a.responseText.length>0)try{c.parse(a.responseText),d(null)}catch(f){throw"invalid json object in "+e}else d(null);else try{var g=c.parse(c.stringify(b));d("undefined"!=typeof g.error?null:g)}catch(f){d(null)}})}return{load:function(a,b,c,e){if(e.isBuild)c(null);else{if("undefined"==typeof a)throw"petsconfig::must supply config resource name such as {.../petsconfig!pets} in define statement";d(a,c)}}}});

define("pets-client-core/2.6.0/public/javascript/utility", ["ncf-thirdparty/jquery-1.7.1/public/javascript/jquery"],function(a){function b(a,b,c,d){function e(e){var i,j=(new Date).getTime();y(e)&&(e=!1),i=j-g,g=(new Date).getTime(),h||c>i||(h=!0,f=(new Date).getTime(),function(c){setTimeout(function(){var b=g-c;b>0&&!e?setTimeout(function(){d.apply(a,Array.prototype.slice.call(arguments,4)),h=!1},b):(d.apply(a,Array.prototype.slice.call(arguments,4)),h=!1)},b)}(f))}var f,g,h=!1;return{invoke:e}}function c(a,b,c){function d(){function d(){f=(new Date).getTime(),c.apply(a,h)}var g=(new Date).getTime()-f,h=arguments;e&&clearTimeout(e),g>b?d():e=setTimeout(d,b-g)}var e,f=0;return{invoke:d}}function d(){var a;return y(window.__domain)?(a=window.location.hostname,window.__domain=-1===a.indexOf(".")?a:a.split(".").slice(-2).join("."),window.__domain):window.__domain}function e(a){for(var b,c=a,d=1;d<arguments.length;d++)b=new RegExp("\\{"+(d-1)+"\\}","gi"),c=null!=arguments[d]?c.replace(b,arguments[d]):c.replace(b,"");return c}function f(a,b){for(var c=[],d=0;b>d;d++)c.push(a);return c.join("")}function g(a,b,c){var d,e,g=a.toString();return g.indexOf(".")>-1?(d=g.substr(0,g.indexOf(".")),e=g.substr(g.indexOf(".")+1),d=f("0",b-d.length)+d,e+=f("0",c-e.length),d+"."+e):f("0",b-g.length)+g}function h(a){var b,c=0,d=[1,4,5,6,7,10,11];if(b=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/.exec(a)){for(var e,f=0;e=d[f];++f)b[e]=+b[e]||0;return b[2]=(+b[2]||1)-1,b[3]=+b[3]||1,"Z"!==b[8]&&void 0!==b[9]&&(c=60*b[10]+b[11],"+"===b[9]&&(c=0-c)),new Date(Date.UTC(b[1],b[2],b[3],b[4],b[5]+c,b[6],b[7]))}return Date.parse?new Date(Date.parse(a)):0/0}function i(a,b,c,d,e,f){var g,i,k,l="",m=new Date,n={"en-US":["just now","1 minute ago","minutes ago","1 hour ago","hours ago","Today","Yesterday","days ago","1 week ago","weeks ago"]},o={"en-US":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]};return a instanceof Date?g=a:(g=new Date(a),isNaN(g)&&(g=h(a))),i=(m.getTime()-g.getTime())/1e3,k=Math.floor(i/86400),0===k&&c?l=60>i?n[b][0]:60===i?n[b][1]:120>i?i.toString()+" "+n[b][2]:3600===i?n[b][3]:Math.floor(i/60).toString()+" "+n[b][4]:k>d||k>=31?l=j(g,f,b):0===k?l=m.getDate()!==g.getDate()?n[b][6]:n[b][5]:1===k?l=n[b][6]:7>k?l=e?k+" "+n[b][7]:o[b][g.getDay()]:7===k?l=n[b][8]:31>k&&(l=k+" "+n[b][9]),l}function j(a,b,c){var d,f,g=["x:","dddd","ddd","dd","d","hh","h","HH","H","mm","m","MMMM","MMM","MM","M","ss","s","tt","t","TT","T","yyyy","yyy","yy","y","zz","z",":","/"],j=a,l=-1,m=[];j instanceof Date||(j=new Date(a),isNaN(j)&&(j=h(a))),y(c)&&(c="en-US");for(var n=0,o=g.length;o>n;n++)if("x:"===g[n])for(d=new RegExp(g[n]+"(.*?);","g"),f=d.exec(b);f;)m[++l]=i(a,c,!1,7,!0,f[1]),b=b.substr(0,f.index)+"{"+l.toString()+"}"+b.substr(f.index+f[0].length),f=d.exec(b);else d=new RegExp(g[n],"g"),null!=b.match(d)&&(m[++l]=k(g[n],c,j),b=b.replace(d,"{"+l.toString()+"}"));return m.unshift(b),e.apply(this,m)}function k(a,b,c){function d(a){var b=a.getHours();return b>0&&13>b?b:b>12?b-12:12}var e,f,h="",i={"en-US":{shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],shortAmPm:["a","p"],longAmPm:["am","pm"],timeSep:":",dateSep:"/"}},j=i[b];switch(a){case"d":h=c.getDate().toString();break;case"dd":h=g(c.getDate(),2);break;case"ddd":h=j.shortDays[c.getDate()];break;case"dddd":h=j.longDays[c.getDay()];break;case"h":h=d(c).toString();break;case"hh":h=g(d(c),2);break;case"H":h=c.getHours().toString();break;case"HH":h=g(c.getHours(),2);break;case"m":h=c.getMinutes();break;case"mm":h=g(c.getMinutes(),2);break;case"M":h=(c.getMonth()+1).toString();break;case"MM":h=g(c.getMonth()+1,2);break;case"MMM":h=j.shortMonths[c.getMonth()];break;case"MMMM":h=j.longMonths[c.getMonth()];break;case"s":h=c.getSeconds();break;case"ss":h=g(c.getSeconds(),2);break;case"t":h=c.getHours()<12?j.shortAmPm[0]:j.shortAmPm[1];break;case"tt":h=c.getHours()<12?j.longAmPm[0]:j.longAmPm[1];break;case"T":h=(c.getHours()<12?j.shortAmPm[0]:j.shortAmPm[1]).toUpperCase();break;case"TT":h=(c.getHours()<12?j.longAmPm[0]:j.longAmPm[1]).toUpperCase();break;case"y":h=parseInt(c.getFullYear().toString().substr(2,2),10).toString();break;case"yy":h=c.getFullYear()<100?g(c.getFullYear(),2):c.getFullYear().toString().substr(2,2);break;case"yyy":h=c.getFullYear()<1e3?g(c.getFullYear(),3):parseInt(c.getFullYear().toString().substr(1,3),10).toString();break;case"yyyy":h=c.getFullYear().toString();break;case"z":h=l(c.getTimezoneOffset()/60).toString();break;case"zz:":h=g(l(c.getTimezoneOffset()/60),2);break;case"zzz":e=l(c.getTimezoneOffset()/60),f=60*e-c.getTimezoneOffset(),h=g(e,2)+j.timeSep+g(f,2);break;case":":h=j.timeSep;break;case"/":h=j.dateSep}return h}function l(a,b,c){var d;if(b)d=b.length>a?c?b.substring(0,a-c.length)+c:b.substring(0,a):b;else{if(!(a instanceof Number))try{a=parseInt(a,10)}catch(e){}d=a instanceof Number?0>a?Math.ceil(a):Math.floor(a):0}return d}function m(a){var b=0;for(var c in a)a.hasOwnProperty(c)&&b++;return b}function n(a,b){var c=!1;if(y(b)?b=0:b++,b>25)return!0;for(var d in a)if(a.hasOwnProperty(d)&&(y(d)||"function"!=typeof d?"object"==typeof a[d]&&(c=n(a[d],b)):c=!0),c)return c;return!1}function o(b,c,d){var e,g={},h=!0,i=[],j=0;if(y(d)?(g.newLine="<br/>",g.indent="&nbsp;"):(h=!1,g.newLine="\r\n",g.indent=" "),y(c)&&(c=b,b=0,n(c)))return"[ Non-JSON Object ]";if(e=m(c),a.isArray(c)){h&&i.push('<span class="bracket">'),i.push("["),h&&i.push("</span>"),i.push(g.newLine);for(var k=0;k<c.length;k++)"object"==typeof c[k]&&c[k]&&"Date"===c.constructor.toString().substr(9,4)?(i.push(f(g.indent,2*(b+1))),i.push('"'),i.push(c.toString()),i.push('"')):a.isArray(c[k])||"object"==typeof c[k]?i.push(o(b+1,c[k],d)):(i.push(f(g.indent,2*(b+1))),h&&i.push('<span class="attrQuote">'),i.push('"'),h&&i.push('</span><span class="attrValue">'),i.push(y(c[k])?"**null/undefined**":c[k].toString()),h&&i.push('</span><span class="attrQuote">'),i.push('"'),h&&i.push("</span>")),k<c.length-1&&i.push(","),i.push(g.newLine);i.push(f(g.indent,2*b)),h&&i.push('<span class="bracket">'),i.push("]"),h&&i.push("</span>")}else if("object"==typeof c){i.push(f(g.indent,2*b)),h&&i.push('<span class="bracket">'),i.push("{"),h&&i.push("</span>"),i.push(g.newLine);for(var l in c)c.hasOwnProperty(l)&&(j++,i.push(f(g.indent,2*(b+1))),h&&i.push('<span class="attrQuote">'),i.push('"'),h&&i.push('</span><span class="attrName">'),i.push(l),h&&i.push('</span><span class="attrQuote">'),i.push('"'),h&&i.push('</span><span class="attrAssign">'),i.push(":"),h&&i.push("</span>"),i.push(" "),"object"==typeof c[l]&&c[l]&&c[l].constructor&&"Date"===c[l].constructor.toString().substr(9,4)?(i.push('"'),i.push(c[l].toString()),i.push('"')):a.isArray(c)||"object"==typeof c[l]?i.push(o(b+1,c[l],d)):"function"!=typeof c[l]&&(h&&i.push('<span class="attrQuote">'),i.push('"'),h&&i.push('</span><span class="attrValue">'),i.push(y(c[l])?"**null/undefined**":c[l].toString()),h&&i.push('</span><span class="attrQuote">'),i.push('"'),h&&i.push("</span>")),e>j&&i.push(","),i.push(g.newLine));i.push(f(g.indent,2*b)),h&&i.push('<span class="bracket">'),i.push("}"),h&&i.push("</span>")}return i.join("")}function p(a,b,c){var d={},e=!0;y(c)?(d.newLine="<br/>",d.indent="&nbsp;",d.lt="&lt;",d.gt="&gt;"):(e=!1,d.newLine="\r\n",d.indent=" ",d.lt="<",d.gt=">"),y(b)&&(b=a,a=0);var g,h=[];if(3===b.nodeType||4===b.nodeType)g=4===b.nodeType?"<![CDATA["+b.data+"]]>":b.data,h.push(f(d.indent,2*a)),e&&h.push('<span class="elementText">'),h.push(e?q(g):g),e&&h.push("</span>"),h.push(d.newLine);else{if(h.push(f(d.indent,2*a)),e&&h.push('<span class="bracket">'),h.push(d.lt),e&&h.push('</span><span class="tagName">'),h.push(b.tagName),e&&h.push("</span>"),b&&b.attributes)for(var i=0;i<b.attributes.length;i++)h.push(" "),e&&h.push('<span class="attrName">'),h.push(b.attributes[i].name),e&&h.push('</span><span class="attrAssign">'),h.push("="),e&&h.push('</span><span class="attrQuote">'),h.push('"'),e&&h.push('</span><span class="attrValue">'),h.push(b.attributes[i].value),e&&h.push('</span><span class="attrQuote">'),h.push('"'),e&&h.push("</span>");e&&h.push('<span class="bracket">'),h.push(d.gt),e&&h.push("</span>"),h.push(d.newLine);for(var j=0;j<b.childNodes.length;j++)h.push(p(a+1,b.childNodes[j],c));h.push(f(d.indent,2*a)),e&&h.push('<span class="bracket">'),h.push(d.lt),e&&h.push("</span>"),h.push("/"),e&&h.push('<span class="tagName">'),h.push(b.tagName),e&&h.push('</span><span class="bracket">'),h.push(d.gt),e&&h.push("</span>"),h.push(d.newLine)}return h.join("")}function q(a){return a.replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/\r\n/gm,"<br/>").replace(/\r/gm,"<br/>").replace(/\n/gm,"<br/>")}function r(a,b){for(var c=[],d=0;d<a.length;d++)y(b[a[d]])&&c.push(e('Property "{0}" cannot be undefined or null.\r\n',a[d]));return c.join("")}function s(a,b){return z(a)?a.apply(b,Array.prototype.slice.call(arguments,2)):!1}function t(a){var b=a.replace(/\\/g,"\\5c").replace(/ /g,"\\20").replace(/"/g,"\\22").replace(/&/g,"\\26").replace(/'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40");return b}function u(a,b,c){if(y(a))return-1;for(var d=0;d<a.length;d++)if(a[d][b]===c)return d;return-1}function v(a,b,c){var d=u(a,b,c);return d>-1?a[d]:null}function w(a,b){for(var c in a)if(a[c]===b)return c;return null}function x(a,b,c,d){var e=!(a.hasOwnProperty(b)&&a[b]===c);return e&&(a[b]=c,s(d,this,a,b,c)),e}function y(a,b){if(b){for(var c=b.split("."),d=0;d<c.length;d++){if(null==a||!a.hasOwnProperty(c[d]))return!0;a=a[c[d]]}return!1}return"undefined"==typeof a||null==a}function z(a){return"function"==typeof a&&null!=a}function A(){for(var a=0,b=arguments.length;b>a;a++)if(!y(arguments[a]))return arguments[a];return null}function B(a,b){return y(a)?b:a}function C(a,b){return Math.random()*(b-a+1)+a}function D(a,b){return l(C(a,b))}function E(a,b){return(y(a)?"":a)+(new Date).getTime().toString()+D(1,1e5).toString()+(y(b)?"":b)}function F(a){return!isNaN(parseFloat(a))&&isFinite(a)}function G(a){var b;return y(a)&&(a=new Date),b=y(a.toISOString)?[a.getFullYear(),"-",g(a.getUTCMonth()+1,2),"-",g(a.getUTCDate(),2),"T",g(a.getUTCHours(),2),":",g(a.getUTCMinutes(),2),":",g(a.getUTCSeconds(),2),".",g(a.getUTCMilliseconds(),3),"Z"].join(""):a.toISOString()}function H(a,b){function c(){"undefined"==typeof arguments[0]?a.apply(this):a.apply(this,arguments[0])}return c.prototype=a.prototype,new c(b)}function I(a,b,c){function d(b){return y(b)&&(b=a),b.hasOwnProperty("derived")?d(b.derived):b}var e;return b.prototype=a,b.prototype.constructor=b,e=H(b,c),e.base=a,a.derived=e,a.invokeVirtual=function(b){function c(a,b,d){return a.hasOwnProperty("derived")?a.hasOwnProperty(b)&&z(a[b])?c(a.derived,b,a):c(a.derived,b,d):a.hasOwnProperty(b)&&z(a[b])?a:d}a.getLastDerivedAncestor=d;var e=c(a,b,a);return e[b].apply(e,Array.prototype.slice.call(arguments,1))},e}function J(){var a=navigator.userAgent,b={IE8:/^Mozilla\/4\.0 \(compatible; MSIE [78]\.0; Windows NT \d\.\d(.*); Trident\/4\.0(.*)\)$/g,IE7:/^Mozilla\/4\.0 \(compatible; MSIE 7\.0; Windows NT \d\.\d(?!; Trident\/)(.*)\)$/g};if("string"!=typeof a)return!1;for(var c in b)if(a.match(b[c]))return!0;return!1}function K(){var a,b=navigator.userAgent;if("string"!=typeof b)return!1;a=[{version:8,pattern:/^Mozilla\/4\.0 \(compatible; MSIE [78]\.0; Windows NT \d\.\d(.*); Trident\/4\.0(.*)\)$/g},{version:"unknown",pattern:/^Mozilla\/\d+\.0 \(compatible; MSIE (\d+)\.0;(.*); Trident\/(.*)\)$/g}];for(var c=0;c<a.length;c++)if(b.match(a[c].pattern))return a[c].version;return!1}function L(b){b.find('a[role="button"]').keydown(function(b){32==b.which&&(a(this).trigger("click",{keyboardActivation:b.which}),b.preventDefault())})}function M(b){b.find('div[role="button"]').keydown(function(b){(32==b.which||13==b.which)&&(a(this).trigger("click",{keyboardActivation:b.which}),b.preventDefault())})}function N(b){b.find('*[role="option"]').keydown(function(b){var c;32==b.which||13==b.which?(a(this).trigger("click",{keyboardActivation:b.which}),b.preventDefault()):40==b.which?c=a(b.target).next():38==b.which&&(c=a(b.target).prev()),c&&(c.focus(),b.preventDefault(),b.stopPropagation())})}function O(b){b.find('*[role="menuitem"]').keydown(function(b){var c;32==b.which||13==b.which?(a(this).trigger("click",{keyboardActivation:b.which}),b.preventDefault()):40==b.which?c=a(b.target).next():38==b.which&&(c=a(b.target).prev()),c&&(c.focus(),b.preventDefault(),b.stopPropagation())})}function P(a,b){a.keydown(function(a){(32==a.which||13==a.which)&&(a.preventDefault(),a.stopPropagation(),b())})}var Q=function(){function a(){for(var a,b=document.cookie.split(/\s*;\s*/),c={},d=0;d<b.length;d++)a=b[d].split("="),c[a[0]]=a[1];return c}function b(a){var b=this.parseCookies();return b.hasOwnProperty(a)?decodeURIComponent(b[a]):null}function c(a,b,c,d,e,f,g){var h=a+"="+encodeURIComponent(b);g&&(h+="; path="+g),c&&"localhost"!==c&&(h+="; domain="+c),f?h+="; max-age="+f:d&&(h+="; expires="+d),e&&(h+="; secure"),document.cookie=h}function d(a){c(a,"",null,(new Date).getDate()-1)}function e(a){return null!=b(a)}return{parseCookies:a,get:b,set:c,remove:d,exists:e}}();return{getSuperDomain:d,repeatString:f,formatString:e,formatNumber:g,formatDate:j,formatXml:p,formatObj:o,escapeForHtml:q,checkParameterObject:r,doCallback:s,escapeXmpp:t,searchObjectArray:u,getObjPropNameByValue:w,getObjectFromObjectArray:v,setPropertyValue:x,truncate:l,isUndefinedOrNull:y,isFunction:z,checkNull:B,coalesce:A,generateRandomNumber:C,generateRandomInt:D,generateRandomString:E,isNumber:F,getDateAsIso8601:G,parse8601DateFormat:h,construct:H,derive:I,isOldIE:J,getIEVersion:K,cookieHelper:Q,Debounce:b,Throttle:c,addKeyboardActivationToLinkButtons:L,addKeyboardActivationToDivButtons:M,addKeyboardActivationToOptions:N,addKeyboardActivationToMenu:O,addButtonActivationCallback:P}});

define("pets-client-core/2.6.0/public/javascript/windowstateenum", [],{Maximized:0,Minimized:1,Normal:2});

define('pets-client-core/2.6.0/public/partialsClient/dock/browsernotice.compiled', ['ncf-templating/dust-1.2.2/public/javascript/dust'],function(dust){
 (function(){dust.register("/te/pets-client-core/2.6.0/public/partialsClient/dock/browsernotice.template",body_0);function body_0(chk, ctx){return chk.write("<!--[if IE 8]><p class=\"aes-pets-messages aes-pets-browsernotice\" style=\"display:none\">You're currently using an outdated browser, Internet Explorer 8. For a faster, optimal experience, upgrade to the latest version of Internet Explorer. Or, you can download the latest version of Chrome, Firefox, or Safari.</p><script type=\"text/javascript\">if(navigator.appVersion.indexOf('Trident/4.0') > -1) { setTimeout(function() { var notices = document.querySelectorAll('p.aes-pets-browsernotice[style]');for (var i = 0; i < notices.length; i++) { notices[i].removeAttribute('style');}}, 10);}</script><![endif]-->");}return body_0;})();; return { path: '/te/pets-client-core/2.6.0/public/partialsClient/dock/browsernotice.template' };
});
require(['pets-client-core/2.6.0/public/partialsClient/dock/browsernotice.compiled'],function(){});

define('pets-client-core/2.6.0/public/partialsClient/dock/dockwindowfooter.compiled', ['ncf-templating/dust-1.2.2/public/javascript/dust'],function(dust){
 (function(){dust.register("/te/pets-client-core/2.6.0/public/partialsClient/dock/dockwindowfooter.template",body_0);function body_0(chk, ctx){return chk.write("<ul><li><button id=\"aes-pets-dock-locktoggle\" class=\"aes-pets-icon-button aes-unlock\" aria-pressed=\"false\"><img class=\"aes-pets-icon\" src=\"/te/pets-client-core/2.6.0/public/img/empty.png\" alt=\"lock this window open\" /></button></li><li><div id=\"aes-pets-dock-docktoggle\" role=\"button\" tabindex=\"0\">Hide Tools</div></li></ul>");}return body_0;})();; return { path: '/te/pets-client-core/2.6.0/public/partialsClient/dock/dockwindowfooter.template' };
});
require(['pets-client-core/2.6.0/public/partialsClient/dock/dockwindowfooter.compiled'],function(){});

define('pets-client-core/2.6.0/public/partialsClient/petsbar/petsbaritem.compiled', ['ncf-templating/dust-1.2.2/public/javascript/dust'],function(dust){
 (function(){dust.register("/te/pets-client-core/2.6.0/public/partialsClient/petsbar/petsbaritem.template",body_0);function body_0(chk, ctx){return chk.write("<li id=\"").reference(ctx.get("id"),ctx,"h").write("\" data-displayindex=\"").reference(ctx.get("displayIndex"),ctx,"h").write("\" class=\"aes-pets-item").exists(ctx.get("showIcon"),ctx,{"else":body_1,"block":body_2},null).write("\"><button tabindex=\"0\"").exists(ctx.get("renderInDock"),ctx,{"block":body_3},null).write(">").exists(ctx.get("showCaption"),ctx,{"block":body_4},null).exists(ctx.get("showIcon"),ctx,{"block":body_5},null).write("</button><div class=\"aes-pets-tool-indicator\"></div></li>");}function body_1(chk, ctx){return chk.write(" aes-pets-link");}function body_2(chk, ctx){return chk.write(" aes-pets-tool");}function body_3(chk, ctx){return chk.write(" aria-expanded=\"false\"");}function body_4(chk, ctx){return chk.write("<span id=\"aes-petsbar-caption\">").reference(ctx.get("caption"),ctx,"h").write("</span>");}function body_5(chk, ctx){return chk.write("<img id=\"aes-pet-icon-").reference(ctx.get("id"),ctx,"h").write("\" class=\"aes-pets-icon ").reference(ctx.get("iconInfo"),ctx,"h").write("\" src=\"/te/pets-client-core/2.6.0/public/img/empty.png\" alt=\"").reference(ctx.get("caption"),ctx,"h").write("\" /><span id=\"aes-pet-msg-").reference(ctx.get("id"),ctx,"h").write("\" class=\"aes-pets-tool-subtext aes-hide\"></span><span id=\"aes-pet-icon-error-").reference(ctx.get("id"),ctx,"h").write("\" class=\"aes-pets-icon aes-pets-error aes-hide\"></span>");}return body_0;})();; return { path: '/te/pets-client-core/2.6.0/public/partialsClient/petsbar/petsbaritem.template' };
});
require(['pets-client-core/2.6.0/public/partialsClient/petsbar/petsbaritem.compiled'],function(){});

define('pets-client-core/2.6.0/public/partialsClient/window/defaultwindowheadercontrols.compiled', ['ncf-templating/dust-1.2.2/public/javascript/dust'],function(dust){
 (function(){dust.register("/te/pets-client-core/2.6.0/public/partialsClient/window/defaultwindowheadercontrols.template",body_0);function body_0(chk, ctx){return chk.write("<h1 id=\"aes-window-caption-").reference(ctx.get("id"),ctx,"h").write("\"></h1><ul id=\"aes-window-header-toolspace-").reference(ctx.get("id"),ctx,"h").write("\">").block(ctx.getBlock("customHeaderControls"),ctx,{},null).write("<li id=\"aes-window-header-minimize-").reference(ctx.get("id"),ctx,"h").write("\"><button id=\"aes-window-header-minimize-button-").reference(ctx.get("id"),ctx,"h").write("\" class=\"aes-pets-icon-button aes-minimize-light\" tabindex=\"0\" title=\"Minimize\"><img class=\"aes-pets-icon aes-minimize-light\" src=\"/te/pets-client-core/2.6.0/public/img/empty.png\" alt=\"minimize window\" /></button></li><li id=\"aes-window-header-close-").reference(ctx.get("id"),ctx,"h").write("\"><button class=\"aes-pets-icon-button aes-close-light\" tabindex=\"0\" title=\"Close\"><img class=\"aes-pets-icon aes-close-light\" src=\"/te/pets-client-core/2.6.0/public/img/empty.png\" alt=\"close window\" /></button></li></ul>");}return body_0;})();; return { path: '/te/pets-client-core/2.6.0/public/partialsClient/window/defaultwindowheadercontrols.template' };
});
require(['pets-client-core/2.6.0/public/partialsClient/window/defaultwindowheadercontrols.compiled'],function(){});

define("pets-client-core/2.6.0/public/javascript/logger", ["ncf-thirdparty/json-2/public/javascript/json","pets-client-core/2.6.0/public/javascript/petsconfig!pets","pets-client-core/2.6.0/public/javascript/utility"],function(a,b,c){function d(a){return c.formatNumber(a,2)}function e(a,b,c,d){k(a,b,m.Fatal,c,d)}function f(a,b,c,d){k(a,b,m.Error,c,d)}function g(a,b,c,d){k(a,b,m.Warning,c,d)}function h(a,b,c,d){k(a,b,m.Info,c,d)}function i(a,b,c,d){k(a,b,m.Debug,c,d)}function j(a,b,c,d){k(a,b,m.Trace,c,d)}function k(e,f,g,h,i){function j(a,b){return a?a.replace(/\$\{nl\}/gm,b):""}function k(a,b,c,d){return a+(c?j(c,d):"")+b}var l,o,p,q,r=new Date,s="",t="";if(p=b.logging.toConsole&&"undefined"!=typeof console&&console&&console.log,c.isUndefinedOrNull(g)&&(g=m.Debug),(b.logging.level&g)===g){if(b.logging.moduleFilterPattern&&(c.isUndefinedOrNull(e)||!e.match(b.logging.moduleFilterPattern)))return;if(f&&b.logging.messageFilterPattern&&(c.isUndefinedOrNull(f)||!f.match(b.logging.messageFilterPattern)))return;switch(g){case m.Trace:o="TRACE";break;case m.Debug:o="DEBUG";break;case m.Info:o="INFO";break;case m.Warning:o="WARNING";break;case m.Error:o="ERROR";break;case m.Fatal:o="FATAL"}if(h)switch(i){case n.Xml:b.logging.logXml&&(s="<br/>"+c.formatXml(h),p&&(t="\r\n"+c.formatXml(h,null,!0)));break;case n.Object:default:b.logging.logObjects&&(s="<br/>",b.logging.fastObjects?(s=a.stringify(h),t="\r\n"+s):p?t="\r\n"+c.formatObj(h,null,!0):s+=c.formatObj(h))}if(b.logging.dataFilterPattern&&!t.match(b.logging.dataFilterPattern)&&!s.match(b.logging.dataFilterPattern))return;if(l=c.formatString("*** [ {0} {1}/{2}/{3} {4}:{5}:{6}.{7} ] { {8} } ",o,d((r.getUTCMonth()+1).toString()),d(r.getUTCDate().toString()),d(r.getUTCFullYear()),d(r.getUTCHours()),d(r.getUTCMinutes()),d(r.getUTCSeconds()),d(r.getUTCMilliseconds()),e),p)switch(q=k(l,t,f,"\r\n"),g){case m.Fatal:case m.Error:console.error?console.error(q):console.log(q);break;case m.Warning:console.warn?console.warn(q):console.log(q);break;case m.Info:case m.Debug:case m.Trace:default:console.log(q)}c.isFunction(window.logMessage)&&window.logMessage(k(l,s,f,"<br/>"))}}var l,m={Fatal:1,Error:2,Warning:4,Info:8,Debug:16,Trace:32},n={Object:0,Xml:1};return j("Logger:ctor"),l=window.location.toString().match(/(?:\?|&)(petsconfig\.logging\.level)(?:=(.*?)(?:&|$))?/i),l&&(b.logging.level=parseInt(l[2])),l=window.location.toString().match(/(?:\?|&)(petsconfig\.logging\.toconsole)(?:=(.*?)(?:&|$))?/i),l&&(b.logging.toConsole="true"==l[2]),l=window.location.toString().match(/(?:\?|&)(petsconfig\.logging\.logobjects)(?:=(.*?)(?:&|$))?/i),l&&(b.logging.logObjects="true"==l[2]),l=window.location.toString().match(/(?:\?|&)(petsconfig\.logging\.fastobjects)(?:=(.*?)(?:&|$))?/i),l&&(b.logging.fastObjects="true"==l[2]),l=window.location.toString().match(/(?:\?|&)(petsconfig\.logging\.logxml)(?:=(.*?)(?:&|$))?/i),l&&(b.logging.logXml="true"==l[2]),{Levels:m,DataTypes:n,log:k,fatal:e,error:f,warning:g,info:h,debug:i,trace:j}});

define("pets-client-core/2.6.0/public/javascript/throttledhttpconnector", ["ncf-thirdparty/jquery-1.7.1/public/javascript/jquery","ncf-connectors/1.1.1/public/javascript/httpconnectorfactory","pets-client-core/2.6.0/public/javascript/utility"],function(a,b,c){function d(a,b,c){f("post",a,b,c)}function e(a,b,c){f("get",a,b,c)}function f(d,e,i,j){g===h&&a.browser.msie&&parseInt(a.browser.version.substr(0,a.browser.version.indexOf(".")),10)<=9?setTimeout(function(){f(d,e,i,j)},c.generateRandomInt(100,200)):(g++,b.createHttpConnector(e)[d]({serverData:i},function(a,b){g--,c.doCallback(j,this,a,b)}))}var g=0,h=1;return{post:d,get:e}});

define('pets-client-core/2.6.0/public/partialsClient/window/windowbase.compiled', ['ncf-templating/dust-1.2.2/public/javascript/dust'],function(dust){
 (function(){dust.register("/te/pets-client-core/2.6.0/public/partialsClient/window/windowbase.template",body_0);function body_0(chk, ctx){return chk.write("<span id=\"aes-window-boundary-begin-").reference(ctx.get("id"),ctx,"h").write("\" class=\"aes-pets-sr-only\"></span><header id=\"aes-window-titlebar-").reference(ctx.get("id"),ctx,"h").write("\">").block(ctx.getBlock("headerControls"),ctx,{"block":body_1},null).write("</header><section id=\"aes-window-clientarea-").reference(ctx.get("id"),ctx,"h").write("\">").block(ctx.getBlock("clientArea"),ctx,{},null).write("</section><footer id=\"aes-window-footer-").reference(ctx.get("id"),ctx,"h").write("\">").block(ctx.getBlock("footerControls"),ctx,{},null).write("</footer><span id=\"aes-window-boundary-end-").reference(ctx.get("id"),ctx,"h").write("\" class=\"aes-pets-sr-only\"></span>");}function body_1(chk, ctx){return chk.partial("/te/pets-client-core/2.6.0/public/partialsClient/window/defaultwindowheadercontrols.template",ctx,null);}return body_0;})();; return { path: '/te/pets-client-core/2.6.0/public/partialsClient/window/windowbase.template' };
});
require(['pets-client-core/2.6.0/public/partialsClient/window/windowbase.compiled'],function(){});

define("pets-client-core/2.6.0/public/javascript/audio", ["ncf-thirdparty/jquery-1.7.1/public/javascript/jquery","pets-client-core/2.6.0/public/javascript/utility","pets-client-core/2.6.0/public/javascript/logger","pets-client-thirdparty/1.4.1/public/javascript/modernizr"],function(a,b,c,d){function e(c){var d="LegacySound",e=a("body");e.append(b.formatString('<embed src="{0}.wav" autostart="true" width="1" height="1" id="{1}" enablejavascript="true"></embed>',c,d)),e.remove("#"+d)}function f(a){var b=new Audio;b.src=d.audio.mp3?a+".mp3":d.audio.ogg?a+".ogg":a+".wav",b.play()}function g(a){d.audio?f(a):e(a)}return{playSound:g}});

define("pets-client-core/2.6.0/public/javascript/templatemanager", ["ncf-thirdparty/jquery-1.7.1/public/javascript/jquery","ncf-templating/1.2.2/public/javascript/templating","pets-client-core/2.6.0/public/javascript/utility","pets-client-core/2.6.0/public/javascript/logger"],function(a,b,c,d){function e(a,e,f){d.trace("Pets-Client-Core::TemplateManager::loadTemplate"),b.load(l(a),function(a,b){c.isUndefinedOrNull(e)||e(a,function(a){return{apply:function(b,c){a.apply(b,c)},appendTo:function(b,c,d){a.appendTo(b,c,d)},replace:function(b,c,d){a.replace(b,c,d)},replaceContent:function(b,c,d){a.replaceContent(b,c,d)}}}(b))},f)}function f(a,f,g,h){d.trace("Pets-Client-Core::TemplateManager::apply");var i=l(a),j=b.get(i),k=function(a){c.isFunction(f)&&c.isUndefinedOrNull(g)?a.apply(null,f):a.apply(f,g)};c.isUndefinedOrNull(j)?e(i,function(a,b){a||k(b)},h):k(j)}function g(b,e,g,h,i){d.trace("Pets-Client-Core::TemplateManager::appendToFromTemplate"),f(e,g,function(d,e){if(!d){var f=a(e);b instanceof a||(b=a(b)),b.append(f),c.doCallback(h,this,{insertedElement:f})}},i)}function h(b,e,g,h,i){d.trace("Pets-Client-Core::TemplateManager::appendToFromTemplate"),f(e,g,function(d,e){if(!d){var f=a(e);b instanceof a||(b=a(b)),b.prepend(f),c.doCallback(h,this,{insertedElement:f})}},i)}function i(a,f,g,h,i){d.trace("Pets-Client-Core::TemplateManager::replaceFromTemplate");var j=l(f),k=b.get(j);c.isUndefinedOrNull(k)?e(j,function(b,c){b||c.replace(a,g,h)},i):k.replace(a,g,h)}function j(b,e,g,h,i){d.trace("Pets-Client-Core::TemplateManager::replaceContentFromTemplate"),f(e,g,function(d,e){if(!d){var f=a(e);b instanceof a||(b=a(b)),b.html(f),c.doCallback(h,this,{insertedElement:f})}},i)}function k(a){return m(a)}function l(a){return 0==a.indexOf("/")?a:"/te/"+a}function m(a){return 0==a.indexOf("/te/")?a.substring(4):a}return{applyTemplate:f,appendToFromTemplate:g,loadTemplate:e,prependFromTemplate:h,replaceFromTemplate:i,replaceContentFromTemplate:j,getTemplateNameFromPath:k}});

define("pets-client-core/public/javascript/global/windowmanager", ["ncf-thirdparty/jquery-1.7.1/public/javascript/jquery","pets-client-thirdparty/1.4.1/public/javascript/jquery-ui-core-draggable-resizable","pets-client-thirdparty/1.4.1/public/javascript/jquery-ui-effects","pets-client-thirdparty/1.4.1/public/javascript/jquery-ui-accordion","pets-client-thirdparty/1.4.1/public/javascript/underscore","pets-client-core/2.6.0/public/javascript/utility","pets-client-core/2.6.0/public/javascript/logger"],function(a,b,c,d,e,f,g){function h(b,c,d,h){function j(a,b,c,e){i(o[a],c,function(a){f.isUndefinedOrNull(b)?++q===n&&d.call():(b.addControl(a),b.getControls().length===n&&d.call(b))},e)}g.trace("PETs-Client-Core::windowManager::scan");var k,l,m,n,o=[],p="",q=0;f.isUndefinedOrNull(c)?(k=f.isUndefinedOrNull(b)?a(document):b,l="[data-widgetfactory]",m=!1):(k=b,l="[data-controlfactory]",m=!0),k.find(l).each(function(b,c){var d=a(c),e=d.attr("id").toLowerCase();e===K?o.unshift(d):e===L?o.unshift(d):o.push(d)}),o=e.sortBy(o,function(a){return a.attr("data-loadorder")}),m&&(n=f.isUndefinedOrNull(c)?o.length:o.length+c.getControls().length);for(var r=0,s=o.length;s>r;r++)try{m?(p=o[r].attr("data-controlfactory"),j(r,c,p,h)):(p="pets-client-core/2.6.0/public/javascript/featureloader!"+o[r].attr("data-widgetfactory"),i(o[r],p))}catch(t){g.error("PETs-Client-Core::windowManager::scan",f.formatString('Error loading widget/control: "{0}" -- Error: {1}',p,t.toString()))}m&&0===o.length&&d.call(c)}function i(b,c,d,e){g.trace("PETs-Client-Core::windowManager::loadWidget("+c+")");var h,j,k,l,m=(new Date).getTime();if(b instanceof a?(h=a.trim(b.attr("id")),j=a.trim(b.attr("data-widget-options")),k=G(j),k.$parseElement=b):(h=b.id,k=b.options,k.$parseElement=b.$parentElement),b.removeAttr("data-widgetfactory"),b.removeAttr("data-controlfactory"),h===L&&!S||(k.waitForDock||k.renderInDock||k.showIconInPetsBar)&&(h!==K&&!S||h!==K&&h!==L&&!T)){if(f.isUndefinedOrNull(P))P=m;else if(m-P>=5e3&&0===Q)Q++,R=10,P=m;else if(m-P>=15e3&&1===Q)return g.fatal("PETs-Client-Core::windowmanager::loadWidget",'Timed out waiting for PetsBar/Dock to load: "'+h+'"'),S||g.fatal("PETs-Client-Core::windowmanager::loadWidget","PetsBar is not loaded"),void(T||g.fatal("PETs-Client-Core::windowmanager::loadWidget","Dock is not loaded"));l=f.generateRandomInt(15*R,125*R),g.info("PETs-Client-Core::windowmanager::loadWidget","PetsBar/Dock not loaded; postponing load["+l+']: "'+h+'"'),setTimeout(function(){i(b,c,d,e)},l)}else(h===L||h===K)&&g.info("PETs-Client-Core::windowmanager::loadWidget",'Loading required component: "'+h+'"'),require([c],function(i){g.trace("PETs-Client-Core::windowmanager::loadWidget_require(Anon)");var j;if(!f.isUndefinedOrNull(i)){if(f.isUndefinedOrNull(e)||f.isUndefinedOrNull(e.parentOptions)||(e=a.extend({},e.parentOptions,e),delete e.parentOptions),k.parentOptions=a.extend({},e),0===h.length)throw"No widget/control ID specified; a unique ID is required for each widget/control.";h===K?(I=i.create(h,k),I.windowCreated(function(){g.info("PETs-Client-Core::windowmanager::loadWidget","** PetsBar loaded **"),S=!0})):"control"===c.substr(c.length-7).toLowerCase()?(k.$parentElement=b instanceof a?b:b.$parentElement,j=i.create(h,k),V.push({id:h,window:j,isControl:!0}),j.windowCreated(function(){d(j)}),j.hit(u),j.collapse(v),j.shown(function(){y(this)})):(j=i.create(h,k),V.push({id:h,window:j,isControl:!1}),f.isUndefinedOrNull(j.init)||j.windowCreated(j.init),h===L&&j.windowCreated(function(){g.info("PETs-Client-Core::windowmanager::loadWidget","** Dock loaded **"),T=!0,j.focusAfter(w)}),j.hit(u),j.collapse(v),j.shown(function(a){y(this),(f.isUndefinedOrNull(a)||a.restoring!==!0)&&u({id:h})}))}})}function j(){return I}function k(){return l(L)}function l(a){var b=f.getObjectFromObjectArray(V,"id",a);return f.isUndefinedOrNull(b)?null:b.window}function m(a){var b=l(a);b.getRenderInDock()?(k().showWidget(a),I.setActiveWidgetIcon(a)):(k().hide(),I.setActiveWidgetIcon(),b.show())}function n(a){var b=l(a);b.getRenderInDock()?(k().hideWidget(a),I.setActiveWidgetIcon()):b.hide(),z(b)}function o(){for(var a=r(),b=0,c=a.length;c>b;b++)p(a[b],a)}function p(b,c,d){var e,g,h,i,j,l=b.getId(),m=f.getObjectFromObjectArray(V,"id",l),n=b.getSize(),o=b.getPosition(),p=n.width,q=k(),u={};if(l!==L&&!f.isUndefinedOrNull(m)){switch(f.isUndefinedOrNull(c)&&(c=r(l)),d=f.coalesce(d,m.window.getWinStateLeft()?"":null,m.window.getOption("initialPosition"),""),d.toLowerCase()){case"l":u.left=O;break;case"c":u.left=(a("body").width()-p)/2;break;case"r":u.left=a("body").outerWidth(!0)-(p+O);break;default:u.left=o.left}u.right=u.left+p,u.top=o.top,u.bottom=o.top+n.height,h=u.left,q&&q.getIsVisible()&&t(u,s(q))?(u.left=q.getPosition().left-(p+O),u.right=u.left+p):q&&!q.getIsVisible()&&m.repositioned&&(u.left=m.repositioned,u.right=u.left+p),i=u.left;for(var v=0,w=c.length;w>v;v++)if(e=c[v].getId(),e!==L&&e!==l&&c[v].getStackPosition()<b.getStackPosition()&&(g=s(c[v]),t(g,u)&&(u.left=g.left-(p+O),u.right=u.left+p,u.left<=0))){u.left=i;break}f.isUndefinedOrNull(m.repositioned)&&f.isUndefinedOrNull(m.lockedSides)||q&&q.getIsVisible()?u.left!==h&&(f.isUndefinedOrNull(m.repositioned)||(m.repositioned=h),b.getLockedSides&&b.getLockedSides().hasOwnProperty("r")&&(f.isUndefinedOrNull(m.lockedSides)&&(m.lockedSides=b.getLockedSides()),j=a.extend({},b.getLockedSides()),delete j.r,b.setLockedSides(j))):(delete m.repositioned,m.lockedSides&&(b.setLockedSides(m.lockedSides),delete m.lockedSides)),0!==u.left&&(i=u.left-a(document).scrollLeft(),0>i&&(i=0),b.setPosition({left:i}))}}function q(a){var b=f.getObjectFromObjectArray(V,"id",a);b.lockedSides||delete b.repositioned}function r(a){var b,c,d=[];f.isUndefinedOrNull(a)&&(a=""),b=e.filter(V,function(b){var c=b.window;return!(b.isControl||b.id===a||!f.isUndefinedOrNull(c.getRenderInDock)&&c.getRenderInDock()||c.getIsStaticallyPositioned())});for(var g=0,h=b.length;h>g;g++)c=D(b[g].window),c.getIsVisible()&&-1===f.searchObjectArray(d,"id",c.getId())&&d.push(c);return e.sortBy(d,function(a){return a.getStackPosition()})}function s(a){var b=a.getPosition(),c=a.getSize();return{left:b.left,right:b.left+c.width,top:b.top,bottom:b.top+c.height}}function t(a,b){return!(a.right<=b.left||a.left>=b.right)}function u(a){var b,c,d=l(a.id),e=D(d),g=J,h=U;f.isUndefinedOrNull(J)||a.id===J||(b=D(l(J))),J=a.id,U=d.getIsModal()&&!d.getIsModalSelection(),f.isUndefinedOrNull(b)||z(b,F(d).getId()===F(b).getId()),C(J),e.getId()===J&&B(e),c=x(d);for(var i=0,j=c.length;j>i;i++)c[i].getId()===g&&h||c[i].toggleVisibility();c.length>0&&(a.stopPropagation=!0),y(d)}function v(a){var b,c=l(a.id);b=x(c);for(var d=0,e=b.length;e>d;d++)b[d].getIsVisible()&&b[d].toggleVisibility();b.length>0&&(a.stopPropagation=!0),c.focus()}function w(a){l(a.widgetId)._postSynchronousEvent("focusAfter",{id:a.widgetId})}function x(a){for(var b,c=a.getControls(),d=[],e=0,f=c.length;f>e;e++)b=c[e].getOpenerWindow(),b&&b.getId()===a.getId()&&d.push(c[e]);return d}function y(a){a.setzIndex(M),a.activate()}function z(a,b){a.getIsVisible()&&(a.deactivate(),b||a.setzIndex(N))}function A(a){return a.getOpenerWindow&&!f.isUndefinedOrNull(a.getOpenerWindow())?a.getOpenerWindow().getId():null}function B(a,b){for(var c,d,e=a.getControls(),g=0,h=e.length;h>g;g++)c=e[g],d=A(c),c.getIsModal()&&c.getId()!==b&&!f.isUndefinedOrNull(b)&&d!==b&&a.getId()!==d&&e[g].hide()}function C(a){var b=[],c=f.isUndefinedOrNull(a)?[]:E(l(a),b),d=e.pluck(V,"id");e.each(e.filter(e.difference(d,c),function(b){var c=l(b);return c.getIsModal()&&A(c)!==a}),function(a){l(a).hide()})}function D(a){return f.isUndefinedOrNull(a.getParentWindow())||!l(a.getId()).isControl?a:D(a)}function E(a,b){return b.push(a.getId()),f.isUndefinedOrNull(a.getParentWindow())?b:E(a.getParentWindow(),b)}function F(a){return f.isUndefinedOrNull(a.getParentWindow())?a:F(a.getParentWindow())}function G(a){var b=/((?:\\.|[^=;]+)*)=('(?:\\.|[^'\\]+)*'|(?:\\.|[^;'\\]+)*)/g,c=b.exec(a),d={};if(a.length>0)for(;c;)d[c[1]]=H(c[2]),c=b.exec(a);return d}function H(a){var b,c,d=/\[(.*?)\]/g;if(b=f.isNumber(a)?Number(a):"true"===a.toLowerCase()?!0:"false"===a.toLowerCase()?!1:"'"===a.substr(0,1)?a.substr(1,a.length-2):a,"string"==typeof b&&(b=b.replace(/\\'/g,"'").replace(/\\;/g,";")),c=d.exec(b),c&&(b=[H(c[1])]),/[^\\],/g.test(b)){b=b.replace(/\\,/g,"@@esccomma").split(",");for(var e=0,g=b.length;g>e;e++)b[e]=H(b[e].replace(/@@esccomma/g,"\\,"))}return"string"==typeof b&&(b=b.replace(/\\,/g,",")),(/[^\\];/g.test(b)||/\=/g.test(b))&&(b=G(b)),b}g.trace("PETs-Client-Core::windowManager::ctor");var I,J,K="aes-petsbar",L="aes-pets-dock",M=5e3,N=4950,O=15,P=null,Q=0,R=1,S=!1,T=!1,U=!1,V=[],W=a(window).height(),X=a(window).width();return b.init(a),c.init(a),d.init(a),a("body").on("click",function(){C()}),a(window).on("resize",function(){(a(window).height()!==W||a(window).width()!==X)&&(W=a(window).height(),X=a(window).width(),o())}),{scan:h,loadWidget:i,getPetsBar:j,PETS_BAR_ID:K,getPetsDock:k,PETS_DOCK_ID:L,getWindow:l,hideWindow:n,showWindow:m,positionWindow:p,positionWindows:o,clearRepositionData:q}});

define("pets-client-core/public/javascript/global/pagebusproxy", ["ncf-messaging/1.0.1/public/javascript/pagebus","pets-client-core/2.6.0/public/javascript/logger","pets-client-core/2.6.0/public/javascript/utility"],function(a,b,c){function d(c,d,e){b.trace("Pets-Client-Core::PageBusProxy::publish"),b.debug("Pets-Client-Core::PageBusProxy::publish","${nl}Topic: "+c,d),e&&(g[c]=d),a.publish(c,d)}function e(d,e,f,h,i){return b.trace("Pets-Client-Core::PageBusProxy::subscribe"),b.debug("Pets-Client-Core::PageBusProxy::subscribe","${nl}Topic: "+d,h),c.isUndefinedOrNull(g[d])?(!c.isUndefinedOrNull(f)&&f&&(c.isUndefinedOrNull(h)&&(h={}),h.PageBus={cache:!0}),a.subscribe(d,i,e,h)):(c.isUndefinedOrNull(i)?e.call(this,g[d].subscriberData):e.call(i,g[d].subscriberData),null)}function f(c){b.trace("Pets-Client-Core::PageBusProxy::unsubscribe"),a.unsubscribe(c)}b.trace("Pets-Client-Core::PageBusProxy::ctor");var g={};return{publish:d,subscribe:e,unsubscribe:f}});

define("pets-client-core/2.6.0/public/javascript/cookiecache", ["ncf-thirdparty/json-2/public/javascript/json","pets-client-core/2.6.0/public/javascript/utility","pets-client-core/2.6.0/public/javascript/logger","pets-client-core/2.6.0/public/javascript/petsconfig!pets"],function(a,b,c,d){function e(a,b,d){c.trace("Pets-Client-Core::CookieCache::setSidRid"),h(a,b,d)}function f(a,d,e){c.trace("Pets-Client-Core::CookieCache::get");var f=i(a,d);return b.isFunction(e)&&e(f),f}function g(a,b){c.trace("Pets-Client-Core::CookieCache::clearSidRid"),h(a,b)}function h(e,f,g){c.trace("Pets-Client-Core::CookieCache::setObjectId");var h=j(e);b.isUndefinedOrNull(g)?b.isUndefinedOrNull(f)?h=null:delete h[f]:(b.isUndefinedOrNull(h)&&(h={}),h[f]=g),b.cookieHelper.set(e,a.stringify(h),d.cacheProxy.cookieDomain,null,!0,null,"/")}function i(a,d){c.trace("Pets-Client-Core::CookieCache::getObjectById");var e=j(a);return b.isUndefinedOrNull(e)||b.isUndefinedOrNull(e[d])?null:e[d]}function j(d){c.trace("Pets-Client-Core::CookieCache::getObject");var e=b.cookieHelper.get(d);return"undefined"!=typeof e&&null!=e&&e.length>0?a.parse(e):{}}return c.trace("Pets-Client-Core::CookieCache::ctor"),{set:e,get:f,clear:g}});

define("pets-client-core/public/javascript/global/cacheproxy", ["ncf-thirdparty/jquery-1.7.1/public/javascript/jquery","ncf-caching/1.0.2/public/javascript/cacheengine","pets-client-core/2.6.0/public/javascript/petsconfig!pets","pets-client-core/2.6.0/public/javascript/utility","pets-client-core/2.6.0/public/javascript/logger"],function(a,b,c,d,e){function f(a,c){e.trace("Pets-Client-Core::CacheProxy::getQueue"),b.get("apollogrp.pets","queue:"+a,{}).snapshot(c)}function g(a,c){e.trace("Pets-Client-Core::CacheProxy::setQueue"),b.get("apollogrp.pets","queue:"+a,{}).set(c)}function h(f,g){e.trace("CacheProxy.getCache");var h={domain:c.cacheProxy.domainUrl,area:c.cacheProxy.storageArea},j=window.location.toString().match(/(?:\?|&)(hackcachedomain)(?:=(.*?)(?:&|$))?/)||"",k="hackcachedomain"===(j[1]||"").toLowerCase();return k&&(h.domain=!d.isUndefinedOrNull(j[2])&&j[2].length>0?j[2]:"https://portal.aes.qa.apollogrp.edu"),f=f.replace(/@/g,"_"),d.isUndefinedOrNull(i[f])&&(i[f]=b.get("apollogrp.pets",f,a.extend({},h,g))),function(a){function b(b){a.set(b)}function c(b){a.snapshot(b)}return{set:b,snapshot:c}}(i[f])}e.trace("Pets-Client-Core::CacheProxy::ctor");var i={};return{getCache:h,getQueue:f,setQueue:g}});

define("pets-client-core/2.6.0/public/javascript/cdsapi", ["ncf-thirdparty/jquery-1.7.1/public/javascript/jquery","ncf-thirdparty/json-2/public/javascript/json","pets-client-thirdparty/1.4.1/public/javascript/underscore","pets-client-core/2.6.0/public/javascript/utility","pets-client-core/2.6.0/public/javascript/logger","pets-client-core/2.6.0/public/javascript/petsconfig!pets","pets-client-core/2.6.0/public/javascript/throttledhttpconnector"],function(a,b,c,d,e,f){function g(a){var b;a=a||{},a.pet=a.pet||"unknown pet",b=a.pet+"|";for(var c in a)"pet"!==c&&a.hasOwnProperty(c)&&(b+=a[c]+"|");b+="|"+window.location,r(z.log,b,null,function(){})}function h(a){a=a||{},a.domainName=z.setPreferences.domainName,r(z.setPreferences,b.stringify(a),null,function(){e.debug("CDSAPI::savePreferences")})}function i(a){var b="";if("undefined"==typeof a)throw"CDSAPI::must define callback for returned value such as: getPreferences(function(data){ })";r(z.getPreferences,null,null,function(c){e.debug("CDSAPI::getPreferences from CDS"),b=t(c),"undefined"!=typeof a&&"function"==typeof a&&(d.isUndefinedOrNull(b)&&(b={enableVCard:!1,playSound:!0,showAvatars:!0,showOnlineOnly:!1}),a(b))})}function j(a,b){r(z.getFriendStatus,JSON.stringify(a),null,function(a){e.debug("CDSAPI::getBulkFriendStatus from CDS"),b(d.isUndefinedOrNull(a,"friendStatuses")?{error:"error"}:a)})}function k(a,b){if(d.isUndefinedOrNull(a)||!d.isFunction(b))throw"CDSAPI::must receive PETS ID and callback for returned value such as: addFriend(petsId, function(status){ })";r(z.addFriend,null,a,function(a){e.debug("CDSAPI::addFriend from CDS"),b(u(a))})}function l(a,b){r(z.setSelfStatus,a,null,b)}function m(a,b){var c=null;if(d.isUndefinedOrNull(a)||!d.isFunction(b))throw"CDSAPI::must receive username and callback for returned value such as: getSelfStatus(function(status){ })";r(z.getSelfStatus,null,a,function(a){e.debug("CDSAPI::getSelfStatus from CDS"),d.isUndefinedOrNull(a)||d.isUndefinedOrNull(a["users.status"])||(c=a["users.status"]),b(c)})}function n(a,b){if(d.isUndefinedOrNull(a)||!d.isFunction(b))throw"CDSAPI::must receive key pair and callback for returned value such as: getPetsIdByAlternateId(alternateIdKeyPair, function(petsId){ })";r(z.getPetsIdByAlternateId,null,a,function(a){e.debug("CDSAPI::getPetsIdByAlternateId from CDS"),b(d.isUndefinedOrNull(a,"response.result.identityBlockMap.pair.identityBlock")?null:x(a.response.result.identityBlockMap.pair.identityBlock))})}function o(a,b){if(d.isUndefinedOrNull(a)||!d.isFunction(b))throw"CDSAPI::must receive profile ID and callback for returned value such as: getPetsIdByProfileId(profileId, function(petsId){ })";r(z.getPetsIdByProfileId,null,a,function(a){e.debug("CDSAPI::getPetsIdByProfileId from CDS"),b(d.isUndefinedOrNull(a,"response.result.identityBlock")?null:x(a.response.result.identityBlock))})}function p(a,c){var f=b.stringify({identityType:"PROFILE_ID",identities:a,responseEntityNames:["IdentityBlock"]});r(z.getPetsIdsByProfileIds,f,null,function(a){e.debug("CDSAPI::getPetsIdsByProfileIds from CDS"),c(d.isUndefinedOrNull(a,"entries")?null:w(a.entries))})}function q(a,b){B.push({profileId:a,cb:b}),clearTimeout(y),y=setTimeout(v,200)}function r(b,c,e,g){var h;h=d.isUndefinedOrNull(e)?b.url:d.formatString(b.url,e),d.isUndefinedOrNull(b,"headers.x-apollo-assertion")||(b.headers["x-apollo-assertion"]=d.cookieHelper.get(f.ssoCookieName)),a.ajax({type:b.method,url:h,headers:b.headers,contentType:b.contentType,cache:!1,timeout:b.timeout,data:c,success:function(a){s(h,a.message,a,g)},error:function(a,b,c){s(h,c,b,g)}})}function s(a,b,c,d){c&&e.debug("CDSAPI::handleResponse - ","url="+a+",message="+b+",response="+c),"undefined"!=typeof d&&"function"==typeof d&&d(c)}function t(a){var b,e,f,g={};if("error"===a||null===typeof a.domains)return null;try{b=a.domains[0].preference;for(var h in b)for(var i in b[h])e=c.pick(b[h],"preferenceName").preferenceName,f=c.pick(b[h],"preferenceValue").preferenceValue,g[e]=d.isUndefinedOrNull(f)?!1:"true"===f}catch(j){return null}return g}function u(a){var b={};try{"undefined"!=typeof a["people.friend.status"]?b.status=a["people.friend.status"].friendStatus:b.error="undefined"!=typeof a.result&&"undefined"!=typeof a.result.error?a.result.error.message:a?a:"error"}catch(c){return b.error="error"}return b}function v(){e.debug("CDSAPI::dequeuePetsIdByProfileId queue.length = "+B.length);var b,c;B.length>0&&(b=a.extend(!0,[],B),c=a.map(b,function(a){return a.profileId}),B=[],p(c,function(c){a.each(b,function(a,b){var e=d.getObjectFromObjectArray(c,"profileId",b.profileId);d.isUndefinedOrNull(e)?b.cb.call(null,null):b.cb.call(null,e.petsId)})}))}function w(b){var c=[];return a.each(b,function(a,b){c.push({profileId:b.profile.id,petsId:x(b.profile.identityBlock)})}),c}function x(a){var b,c=null;return d.isUndefinedOrNull(a,"profid")||(b=d.getObjectFromObjectArray(a.profid,"type","PETS_ID"),d.isUndefinedOrNull(b,"value")||(c=b.value)),c}var y,z=f.cdsUri,A={Unknown:"",NotFriends:"NO_RELATIONSHIP",Pending:"PENDING_APPROVAL",Approved:"APPROVED",NotFound:"USER_NOT_FOUND",Error:"error"},B=[];return{friendshipStatusEnum:A,logMessage:g,savePreferences:h,getPreferences:i,addFriend:k,saveSelfStatus:l,getSelfStatus:m,getBulkFriendStatus:j,getPetsIdByAlternateId:n,getPetsIdByProfileId:o,getPetsIdsByProfileIds:p,getPetsIdByProfileIdQueue:q}});

define('pets-client-core/2.6.0/public/partialsClient/dock/dockwindow.compiled', ['ncf-templating/dust-1.2.2/public/javascript/dust'],function(dust){
 (function(){dust.register("/te/pets-client-core/2.6.0/public/partialsClient/dock/dockwindow.template",body_0);var blocks={'clientArea':body_2,'footerControls':body_3,'headerControls':body_1};function body_0(chk, ctx){ctx=ctx.shiftBlocks(blocks);return chk.partial("/te/pets-client-core/2.6.0/public/partialsClient/window/windowbase.template",ctx,null);}function body_1(chk, ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("<h1 id=\"aes-window-caption-").reference(ctx.get("id"),ctx,"h").write("\"></h1><!--[if lte IE 7]><div class=\"aes-error\" style=\"z-index:10000;\">Internet Explorer 7, and older, is not fully supported. For a better experience, please upgrade to the latest version or use a different browser.</div><![endif]-->");}function body_2(chk, ctx){ctx=ctx.shiftBlocks(blocks);return chk.write("<div style=\"position:absolute; z-index:-1\">").partial("/te/pets-client-core/2.6.0/public/partialsClient/dock/browsernotice.template",ctx,null).write("</div>");}function body_3(chk, ctx){ctx=ctx.shiftBlocks(blocks);return chk.partial("/te/pets-client-core/2.6.0/public/partialsClient/dock/dockwindowfooter.template",ctx,null);}return body_0;})();; return { path: '/te/pets-client-core/2.6.0/public/partialsClient/dock/dockwindow.template' };
});
require(['pets-client-core/2.6.0/public/partialsClient/dock/dockwindow.compiled'],function(){});

define("pets-client-core/2.6.0/public/javascript/windowmanager", ["pets-client-core/public/javascript/global/windowmanager"],function(a){return a});

define("pets-client-core/2.6.0/public/javascript/pagebusproxy", ["pets-client-core/public/javascript/global/pagebusproxy"],function(a){return a});

define("pets-client-core/2.6.0/public/javascript/userinfocache", ["pets-client-core/2.6.0/public/javascript/petsconfig!pets","pets-client-core/2.6.0/public/javascript/logger","pets-client-core/2.6.0/public/javascript/cookiecache"],function(a,b,c){function d(a){b.trace("Pets-Client-Core::UserInfoCache::set"),c.set(h,g,a)}function e(){return b.trace("Pets-Client-Core::UserInfoCache::get"),c.get(h,g)}function f(){b.trace("Pets-Client-Core::UserInfoCache::clear"),c.set(h,g)}b.trace("Pets-Client-Core::UserInfoCache::ctor");var g="userinfo",h=a.userInfo.cookieName;return{set:d,get:e,clear:f}});

define("pets-client-core/2.6.0/public/javascript/cacheproxy", ["pets-client-core/public/javascript/global/cacheproxy"],function(a){return a});

define("pets-client-core/2.6.0/public/javascript/externalevent", ["pets-client-core/2.6.0/public/javascript/pagebusproxy","pets-client-core/2.6.0/public/javascript/logger"],function(a,b){function c(c,d,e){b.trace("Pets-Client-Core::ExternalEvent::publish"),b.debug("Pets-Client-Core::ExternalEvent::publish","${nl}Topic: "+c,d),a.publish(c,d,e)}function d(c,d,e,f,g){return b.trace("Pets-Client-Core::ExternalEvent::subscribe"),b.debug("Pets-Client-Core::ExternalEvent::subscribe","${nl}Topic: "+c,f),a.subscribe(c,d,e,f,g)}function e(c){b.trace("Pets-Client-Core::PageBusProxy::unsubscribe"),a.unsubscribe(c)}return b.trace("Pets-Client-Core::ExternalEvent::ctor"),{publish:c,subscribe:d,unsubscribe:e}});

define("pets-client-core/2.6.0/public/javascript/internalevent", ["pets-client-core/2.6.0/public/javascript/pagebusproxy","pets-client-core/2.6.0/public/javascript/logger"],function(a,b){function c(c,d,e){b.trace("Pets-Client-Core::InternalEvent::publish("+c+")"),b.debug("Pets-Client-Core::InternalEvent::publish","${nl}Topic: "+c,d),a.publish(c,d,e)}function d(c,d,e,f,g){return b.trace("Pets-Client-Core::InternalEvent::subscribe("+c+")"),b.debug("Pets-Client-Core::InternalEvent::subscribe","${nl}Topic: "+c,f),a.subscribe(c,d,e,f,g)}function e(c){b.trace("Pets-Client-Core::PageBusProxy::unsubscribe"),a.unsubscribe(c)}return b.trace("Pets-Client-Core::InternalEvent::ctor"),{publish:c,subscribe:d,unsubscribe:e}});

define("pets-client-core/2.6.0/public/javascript/cachedqueue", ["pets-client-core/2.6.0/public/javascript/logger","pets-client-core/2.6.0/public/javascript/cacheproxy"],function(a,b){function c(a){function c(a,b){e.push(b),d(a)}function d(c){b.setQueue(a+":"+c,e)}var e=[],f={};return f.enqueue=function(d,f){0===e.length?b.getQueue(a+":"+d,function(){c(d,f)}):c(d,f)},f.dequeue=function(a){var b=e.shift();return d(a),b},f.peek=function(){return e[0]},f}return a.trace("Pets-Client-Core::CachedQueue::ctor"),{create:c}});

define("pets-client-core/2.6.0/public/javascript/windowcache", ["pets-client-core/2.6.0/public/javascript/logger","pets-client-core/2.6.0/public/javascript/cacheproxy"],function(a,b){function c(c,d,g){a.trace("PETs-Client-Core::windowCache::setWindowState"),b.getCache(e.WindowState+c+"."+d,f).set(g)}function d(c,d,g){a.trace("PETs-Client-Core::windowCache::getWindowState"),b.getCache(e.WindowState+c+"."+d,f).snapshot(g)}a.trace("PETs-Client-Core::windowCache::ctor");var e={WindowState:"windowcache.windowstate."},f={area:"sessionStorage",durationHours:24};return{setWindowState:c,getWindowState:d}});

define("pets-client-core/2.6.0/public/javascript/analytics", [
'pets-client-core/2.6.0/public/javascript/utility',
'pets-client-core/2.6.0/public/javascript/logger',
'pets-client-core/2.6.0/public/javascript/petsconfig!pets',
'pets-client-core/2.6.0/public/javascript/externalevent'
],
function(util, logger, petsConfig, externalEvent) {
logger.trace('Pets-Client-Core::Analytics::ctor');
var EVENT_PREFIX = 'edu.apollogrp.pln.pets.analytics.';
function publishEvent(name, source, payload) {
var eventId = EVENT_PREFIX + name + '.' + source,
data;
if(util.isUndefinedOrNull(petsConfig.analytics.excludeEventIdPattern) ||
!(new RegExp(petsConfig.analytics.excludeEventIdPattern).test(eventId))) {
data = {
fullEventId: eventId,
eventId: name,
url: document.url,
userId: '',	
source: source,
payload: payload
};
logger.debug('Pets-Client-Core::analytics', 'Analytics Event Post:' + eventId, data);
externalEvent.publish(eventId, data);
}
}
return {
publishEvent: publishEvent
};
});

define("pets-client-core/2.6.0/public/javascript/error", ["ncf-thirdparty/json-2/public/javascript/json","pets-client-core/2.6.0/public/javascript/utility","pets-client-core/2.6.0/public/javascript/logger","pets-client-core/2.6.0/public/javascript/externalevent"],function(a,b,c,d){function e(a,e){c.trace("Pets-Client-Core::Error::error");var f=g.Error;return f+=b.isUndefinedOrNull(e)?"*":e,d.subscribe(f,a)}function f(b,e,f,h,i,j){c.trace("Pets-Client-Core::Error::postError"),d.publish(g.Error+b,{context:b,description:e,code:f,type:h,specificType:i,data:j?a.stringify(j):null})}c.trace("Pets-Client-Core::ContactEvents::ctor");var g={Error:"edu.apollogrp.pln.pets.core.error."};return{error:e,postError:f}});

define("pets-client-core/2.6.0/public/javascript/controllerbase", ["ncf-thirdparty/jquery-1.7.1/public/javascript/jquery","pets-client-thirdparty/1.4.1/public/javascript/underscore","pets-client-core/2.6.0/public/javascript/utility","pets-client-core/2.6.0/public/javascript/logger","pets-client-core/2.6.0/public/javascript/windowmanager","pets-client-core/2.6.0/public/javascript/internalevent"],function(a,b,c,d,e,f){function g(d){function g(a,b){var d={id:a};p.push(d),o[a]=!1,b.loaded(function(a,b){l(a,b),c.isUndefinedOrNull(r)||r(d)}),f.publish(h.ViewRegistered+n,{id:a})}function i(a,b){o[a]?e.getWindow(a).render(b):q.push({id:a,data:b})}function j(b){var d=function(a){c.isFunction(b)?i(a.id,b({widgetId:a.id})):i(a.id,b)};r=d,a.each(p,function(a,b){d(b)})}function k(){a.each(p,function(a,b){e.getWindow(b.id).hide()})}function l(a,c){var d,e=function(a){return a.id===c.id},f=b.filter(q,e);q=b.reject(q,e),o[c.id]=!0;for(var g=0,h=f.length;h>g;g++)d=f[g],i(d.id,d.data)}function m(a){return f.subscribe(h.ViewRegistered+n,a)}var n=d,o={},p=[],q=[],r=null;this.registerView=g,this.updateView=i,this.updateViews=j,this.hideViews=k,this.viewRegistered=m}d.trace("PETs-Client-Core::controllerBase::ctor");var h={ViewRegistered:"edu.apollogrp.pln.pets.core.controllerbase.viewregistered."};return{create:function(){return new g},extend:function(a){var b=c.isUndefinedOrNull(a.name)?"controller":a.name;return c.derive(new g(c.generateRandomString(b)),a)}}});

define("pets-client-core/public/javascript/global/userinfo", ["ncf-thirdparty/jquery-1.7.1/public/javascript/jquery","ncf-thirdparty/json-2/public/javascript/json","pets-client-thirdparty/1.4.1/public/javascript/md5","pets-client-core/2.6.0/public/javascript/utility","pets-client-core/2.6.0/public/javascript/logger","pets-client-core/2.6.0/public/javascript/petsconfig!pets","pets-client-core/2.6.0/public/javascript/userinfocache","pets-client-core/2.6.0/public/javascript/externalevent","pets-client-core/2.6.0/public/javascript/error"],function(a,b,c,d,e,f,g,h,i){function j(a){e.trace("Pets-Client-Core::UserInfo::unpackUserInfo");var b,f;f=c.hexdigest(a),b=g.get(),d.isUndefinedOrNull(b)||b.assertionHash!==f||b.failed?(e.info("PETs-Client-Core::UserInfo::unpackUserInfo","No user info or user information	is aged."),g.clear(),l(f)):(r=b.userInfo,e.info("Pets-Client-Core::UserInfo::unpackUserInfo","Successfully retrieved user information from cache."),o(!0))}function k(){d.cookieHelper.set(f.ssoCookieName,s,"phoenix.edu",null,null,null,"/"),m(c.hexdigest(s),{result:{message:"success",data:{petsid:s,attributes:f.userInfo.requiredAttributes}}})}function l(b){e.trace("Pets-Client-Core::UserInfo::retrieveUserInfo"),_retryCount--,e.info("Pets-Client-Core::UserInfo::retrieveUserInfo",d.formatString("Retrieving user information (attempt #{0} of {1}).",(f.userInfo.retryLimit-_retryCount).toString(),f.userInfo.retryLimit.toString())),a.ajax({type:"GET",url:f.userInfo.serviceUrl,data:{},dataType:"json",cache:!1,timeout:f.userInfo.ajaxTimeout,beforeSend:function(){},success:function(a){m(b,a)},error:function(a){_retryCount>0?(e.error("Pets-Client-Core::UserInfo::retrieveUserInfo","Error retrieving user information."),setTimeout(function(){l(b)},Math.pow(2,f.userInfo.retryLimit-_retryCount)*f.userInfo.retryTimeoutMs)):(e.fatal("Pets-Client-Core::UserInfo::retrieveUserInfo",d.formatString("Could not retrieve user information: {0}:{1}",a.status,a.statusText)),i.postError("Pets-Client-Core::UserInfo::retrieveUserInfo",d.formatString("Could not retrieve user information: {0}:{1}",a.status,a.statusText)),g.set({assertionHash:b,failed:!0,userInfo:null}),o(!1))}})}function m(a,b){e.trace("Pets-Client-Core::UserInfo::persisUserInfo");{var c;f.userInfo.requiredAttributes}d.isUndefinedOrNull(b)||"success"!==b.result.message.toLowerCase()||d.isUndefinedOrNull(b.result.data.petsid)?(c=!1,_failed=!0):(r=b.result.data,r.petsid=r.petsid.toLowerCase(),g.set({assertionHash:a,failed:!1,userInfo:r}),c=!0,e.info("Pets-Client-Core::UserInfo::persisUserInfo","Successfully retrieved user information and stored in cache.")),o(c)}function n(a){return e.trace("Pets-Client-Core::UserInfo::completed"),h.subscribe(p.Completed,a)}function o(a){e.trace("Pets-Client-Core::UserInfo::onCompleted"),_completionStatus=a?q.Success:q.Failure,h.publish(p.Completed,{status:a,userInfo:r});for(var b=0;b<_callbacks.length;b++)_callbacks[b](a?r.attributes:null)}e.trace("Pets-Client-Core::UserInfo::ctor");var p={Completed:"apollogrp.pln.pets.core.userinfo.completed"},q={Working:0,Success:1,Failure:2},r=null,s=d.isUndefinedOrNull(f.userInfo.primerPetsId)?"":f.userInfo.primerPetsId;return _retryCount=f.userInfo.retryLimit,_callbacks=[],_completionStatus=q.Working,_failed=!1,_assertion=d.cookieHelper.get(f.ssoCookieName),""!==s?k():(_assertion||d.isUndefinedOrNull(f.userInfo.primerAssertion)||(d.cookieHelper.set(f.ssoCookieName,decodeURIComponent(f.userInfo.primerAssertion),"phoenix.edu",null,null,null,"/"),_assertion=d.cookieHelper.get(f.ssoCookieName)),_assertion?j(_assertion):(i.postError("Pets-Client-Core::UserInfo::userInfoCache.getTgt(Anon)","Could not get assertion for logged-in user; cannot proceed."),e.fatal("Pets-Client-Core::userInfo::userInfoCache.getTgt(Anon)","Could not get assertion for logged-in user; cannot proceed."),o(!1))),{CompletionStatus:q,completed:n,getPetsId:function(){return null==r?null:r.petsid},getUsername:function(){var a;return null==r?null:(a=r.petsid.match(/^([^@]*)@/),a?a[1]:r.petsid)},getAttributes:function(a){null!==r?a(r.attributes):_failed?a(null):_callbacks.push(a)},getHasCompletedSuccessfully:function(){return null!==r},getCompletionStatus:function(){return _completionStatus}}});

define("pets-client-core/2.6.0/public/javascript/userinfo", ["pets-client-core/public/javascript/global/userinfo"],function(a){return a});

define("pets-client-core/2.6.0/public/javascript/featureloader", ["pets-client-thirdparty/1.4.1/public/javascript/underscore","pets-client-core/2.6.0/public/javascript/utility","pets-client-core/2.6.0/public/javascript/logger","pets-client-core/2.6.0/public/javascript/userinfo","pets-client-core/2.6.0/public/javascript/petsconfig!modulemanifest"],function(a,b,c,d,e){function f(f,h,i,j){function k(){var d,k,l,m,n=e.availableFunctionality,o=!1,p=!1,q=f.substr(f.lastIndexOf("/")+1).replace(".bundle","");for(var r in n)if(n.hasOwnProperty(r)&&a.indexOf(n[r].modules,q)>-1){d=n[r],o=!0,p=d.enabled&&(b.isUndefinedOrNull(d.attribute)||a.indexOf(g,d.attribute)>-1),p&&!b.isUndefinedOrNull(d.primingEntryPoint)&&""!=d.primingEntryPoint&&(k=new RegExp("(?:\\?|&)("+r+"\\.primingentrypoint\\.off)","i"),l=((window.location.toString().match(k)||"")[1]||"").toLowerCase()===(r+".primingentrypoint.off").toLowerCase(),l||(m=d.primingEntryPoint));break}if(p||!o||j.isBuild){var s=f;b.isUndefinedOrNull(m)?(c.info("PETs-Client-Core::featureLoader::checkLoadModule","Loading module: "+s),h([s],function(a){i(a)})):(c.info("PETs-Client-Core::featureLoader::checkLoadModule","Loading primer: "+m),h([m],function(){c.info("PETs-Client-Core::featureLoader::checkLoadModule","Loading module: "+s),h([s],function(a){i(a)})}))}else p||j.isBuild||i(null)}return 1!==e.masterArm?void i(null):(c.info("PETs-Client-Core::featureLoader::load","Module name: "+f),void(null!=g||j.isBuild?k():d.getAttributes(function(b){g=a.map(b,function(a){return a.toLowerCase()}),k()})))}var g=null;return{load:f}});

define("pets-client-core/public/javascript/global/windowstatefactory", ["pets-client-core/2.6.0/public/javascript/utility","pets-client-core/2.6.0/public/javascript/logger","pets-client-core/2.6.0/public/javascript/userinfo","pets-client-core/2.6.0/public/javascript/internalevent","pets-client-core/2.6.0/public/javascript/windowcache"],function(a,b,c,d,e){function f(d){function f(f,g){b.trace("PETs-Client-Core::windowState::loadCache"),k=f,f?(l=c.getPetsId(),e.getWindowState(l,d,function(b){a.isUndefinedOrNull(b)||(m=b),g(m)})):g(m)}function g(a,d){b.trace("PETs-Client-Core::windowState::load");var e=c.getCompletionStatus();e===c.CompletionStatus.Working&&a?c.completed(function(){f(a,d)}):(e===c.CompletionStatus.Failure&&(a=!1),f(a,d))}function h(a,c){b.trace("PETs-Client-Core::windowState::update"),m.set=!0,m[a]=c,k&&e.setWindowState(l,d,m)}function i(a){return b.trace("PETs-Client-Core::windowState::get"),m[a]}function j(){return b.trace("PETs-Client-Core::windowState::getIsSet"),m.set}var k,l="",m={set:!1};return{set:h,get:i,getIsSet:j,load:g}}return b.trace("PETs-Client-Core::windowState::ctor"),{create:function(a){return new f(a)}}});

define("pets-client-core/2.6.0/public/javascript/dynamicloader", ["pets-client-core/2.6.0/public/javascript/utility","pets-client-core/2.6.0/public/javascript/logger","pets-client-core/2.6.0/public/javascript/petsconfig!modulemanifest","pets-client-core/2.6.0/public/javascript/externalevent"],function(a,b,c,d){function e(c,d){b.trace("Pets-Client-Core::DynamicLoader::onLoadFunctionality"),1!==d.functionality.enabled||a.isUndefinedOrNull(d.functionality.dynamicEntryPoint&&""!==d.functionality.dynamicEntryPoint)||require(["pets-client-core/2.6.0/public/javascript/featureloader!"+d.functionality.dynamicEntryPoint],function(){a.doCallback(d.cb)})}function f(a){b.trace("Pets-Client-Core::DynamicLoader::postLoadFunctionality"),d.publish(g.LoadFunctionality,{functionality:a})}var g={LoadFunctionality:"edu.apollogrp.pln.pets.core.dynamicloader.loadfunctionality"};return d.subscribe(g.LoadFunctionality,e),{postLoadFunctionality:f}});

define("pets-client-core/2.6.0/public/javascript/windowstatefactory", ["pets-client-core/public/javascript/global/windowstatefactory"],function(a){return a});

define("pets-client-core/2.6.0/public/javascript/lightweightwindowbase", ["ncf-thirdparty/jquery-1.7.1/public/javascript/jquery","pets-client-thirdparty/1.4.1/public/javascript/underscore","pets-client-core/2.6.0/public/javascript/utility","pets-client-core/2.6.0/public/javascript/logger","pets-client-core/2.6.0/public/javascript/windowstatefactory","pets-client-core/2.6.0/public/javascript/internalevent","pets-client-core/2.6.0/public/javascript/templatemanager","pets-client-core/2.6.0/public/javascript/windowmanager"],function(a,b,c,d,e,f,g,h){function i(i,j){function k(){Tb.load(Rb.storeState,function(){Hb.invokeVirtual("__loadTemplate")})}function l(b){Lb=c.coalesce(Rb.$parentElement,Rb.$parseElement,a("body")),c.isUndefinedOrNull(Rb.template)?m():g.appendToFromTemplate(Lb,Rb.template,a.extend({},{id:i},Rb,b),function(){m()})}function m(){Ib=Lb.css("position"),Hb.invokeVirtual("__setOptions",function(){ib(),Hb.invokeVirtual("__afterLoad")})}function n(b){Lb.on("click",function(b,c){b.stopPropagation(),"function"!=a.type(window.ActiveXObject)||c||b.isTrigger||!(0==b.screenX||b.offsetY<0||b.offsetX<0||b.offsetY>Lb.height()||b.offsetX>Lb.width())||mb("hit"),mb("click")}).on("mousedown",function(b){var d=a(b.target);b.offsetX&&b.target&&b.target.clientWidth&&b.offsetX>b.target.clientWidth||d.is("a")&&!c.isUndefinedOrNull(d.attr("href"))&&(0==d.attr("href").indexOf("/")||0==d.attr("href").indexOf("http"))||Sb||(Sb=!0,b.stopPropagation(),(c.isUndefinedOrNull(Jb)||c.isUndefinedOrNull(Kb)||Jb.getId()!==Kb.getId())&&setTimeout(function(){mb("hit")},100))}).on("mouseup",function(){Sb=!1,c.isUndefinedOrNull(Jb)||c.isUndefinedOrNull(Kb)||Jb.getId()!==Kb.getId()||mb("hit")}),a.isArray(Rb.windowCssClasses)||(Rb.windowCssClasses=[Rb.windowCssClasses]),Rb.windowCssClasses.push(Nb),Rb.windowCssClasses.push(Ob),Lb.addClass(Rb.windowCssClasses.join(" ")),U({height:Rb.height,width:Rb.width}),X({left:Rb.left,top:Rb.top}),Rb.isVisible?Hb.invokeVirtual("__show",!0):Hb.invokeVirtual("__hide",!0),Rb.addKeyboardActivationToLinkButtons&&Db(),Rb.addKeyboardActivationToDivButtons&&Eb(),Rb.escapeToCollapse&&Lb.keyup(function(a){27==a.keyCode&&(mb("collapse"),a.preventDefault())}),c.doCallback(b)}function o(){Lb.removeAttr("data-controlfactory"),h.scan(Lb,Hb,function(){Hb.invokeVirtual("__afterControlsLoaded")},Rb)}function p(){lb()}function q(a){Vb.push({id:a.getId(),control:a}),a.setParentWindow(Hb)}function r(a){var b;return b=c.isNumber(a)?Vb[Number(a)]:c.getObjectFromObjectArray(Vb,"id",a),c.isUndefinedOrNull(b)?null:b.control}function s(){return b.pluck(Vb,"control")}function t(){d.trace("PETs-Client-Core::lightweightWindowBase::activate "+i),Lb.removeClass(Rb.inactiveCssClass),Lb.addClass(Rb.activeCssClass),mb("activated")}function u(){d.trace("PETs-Client-Core::lightweightWindowBase::deactivate "+i),Lb.removeClass(Rb.activeCssClass),Lb.addClass(Rb.inactiveCssClass),mb("deactivated")}function v(a){var b;b=c.isUndefinedOrNull(a)?!Tb.get("isVisible"):a,b?A():w()}function w(a){d.trace("PETs-Client-Core::lightweightWindowBase::hide "+i);var b=!1;G()&&(mb("beforeHide",a,function(a){return b=b||a,!0}),b||Hb.invokeVirtual("__hide",!1))}function x(a,b){for(var c=0,d=Vb.length;d>c;c++)Vb[c].control.getIsModal()&&Vb[c].control.hide();Lb.hide(),y(a,b)}function y(a,b){(c.isUndefinedOrNull(a)||!c.isUndefinedOrNull(a)&&!a)&&Tb.set("isVisible",!1),Hb.invokeVirtual("__afterHidden"),mb("hidden",b)}function z(){}function A(a){d.trace("PETs-Client-Core::lightweightWindowBase::show "+i);var b=!1;mb("beforeShow",null,function(a){return b=b||a,!0}),b?c.isFunction(a)&&a():Hb.invokeVirtual("__show",!1,a)}function B(a,b,c){Lb.show(),C(a,b,c)}function C(a,b,d){(c.isUndefinedOrNull(a)||!c.isUndefinedOrNull(a)&&!a)&&Tb.set("isVisible",!0),c.isUndefinedOrNull(Jb)&&!Rb.staticPosition&&h.positionWindow(Hb.getLastDerivedAncestor()),c.isFunction(b)&&b(),Hb.invokeVirtual("__afterShown"),mb("shown",d)}function D(){}function E(){d.trace("PETs-Client-Core::lightweightWindowBase::focus "+i);var a=Hb.invokeVirtual("__get$focusInElement");a?a.focus():Lb.focus()}function F(){return i}function G(){return d.trace("PETs-Client-Core::lightweightWindowBase::getIsVisible "+i),Tb.get("isVisible")}function H(){return Rb.isModal}function I(){return Rb.isModalSelection}function J(a){Jb=a}function K(){return Jb}function L(a){Kb=a,Hb.shown(function(){jb(a),kb(a)}),Hb.hidden(function(){jb(a),kb(a)}),a.addButtonActivationHit(),a.addDownArrowCallback(function(a){G()&&(Hb.focus(),a.preventDefault(),a.stopPropagation())})}function M(){return Kb}function N(a){Tb.set("caption",a),mb("captionSet")}function O(){return Tb.get("caption")}function P(a){Lb.css("z-index",a)}function Q(){return Lb.css("z-index")}function R(){return{width:Lb.width(),height:Lb.height()}}function S(){return{width:Lb.outerWidth(),height:Lb.outerHeight()}}function T(a){d.trace("PETs-Client-Core::lightweightWindowBase::setSize "+i),U(a),Hb.invokeVirtual("__updateSizeStateAndPostResized")}function U(a){c.isUndefinedOrNull(a.height)||Lb.height(a.height),c.isUndefinedOrNull(a.width)||Lb.width(a.width)}function V(){Hb.invokeVirtual("__updateSizeAndPositionState"),mb("resized",{size:R(),clientAreaSize:bb()})}function W(a){X(a),Hb.invokeVirtual("__updatePositionStateAndPostRepositioned")}function X(a){c.isUndefinedOrNull(a.left)||Lb.css("left",a.left),c.isUndefinedOrNull(a.top)||Lb.css("top",a.top)}function Y(){Hb.invokeVirtual("__updateSizeAndPositionState"),mb("repositioned",{position:Z()})}function Z(){try{return Lb.position()}catch(a){return Lb.offset()}}function $(){return Rb.stackPosition}function _(){return Rb.staticPosition}function ab(){return Lb}function bb(){return{height:Lb.height(),width:Lb.width()}}function cb(a,b){return b}function db(){Hb.invokeVirtual("__updateSizeAndPositionState"),Tb.set("isVisible",Rb.isVisible),Tb.set("caption",Rb.caption)}function eb(){U({height:Tb.get("height"),width:Tb.get("width")}),X({left:Tb.get("left"),top:Tb.get("top")})}function fb(){var a=R(),b=Z();Tb.set("left",b.left),Tb.set("top",b.top),Tb.set("height",a.height),Tb.set("width",a.width)}function gb(a,b){Tb.set(a,b)}function hb(a){return Tb.get(a)}function ib(){Hb.invokeVirtual(Tb.getIsSet()&&Rb.storeState?"__restoreState":"__initializeState")}function jb(a){a.get$ClientAreaRootElement().toggleClass(Pb,Hb.getIsVisible())}function kb(a){a.get$ClientAreaRootElement().attr("aria-expanded",Hb.getIsVisible())}function lb(){var a;c.isUndefinedOrNull(Jb)||(Lb.css("position",Ib),Rb.resizeToParentClientArea&&(a=Jb.getClientAreaSize(),c.isUndefinedOrNull(a)||T(a),Jb.resized(function(a){T(a.clientAreaSize)}))),f.publish(Mb.WindowCreated+i,{id:i},!0)}function mb(b,d,e){var f=!0,g=Ub[b]||[];d=a.extend(d,{id:i}),d=Hb.invokeVirtual("__beforePostSynchronousEvent",b,d,g);for(var h=0,j=g.length;j>h&&(c.isFunction(e)?f=e(g[h].call(Hb,d)):g[h].call(Hb,d),f);h++);!f||d&&(!d||d.stopPropagation)||c.isUndefinedOrNull(Jb)||"click"!==b&&"hit"!==b||Jb._postSynchronousEvent(b,d,e)}function nb(a){f.subscribe(Mb.WindowCreated+i,a,!1,null,Hb)}function ob(a,b){c.isUndefinedOrNull(Ub[a])&&(Ub[a]=[]),Ub[a].push(b)}function pb(a){Ub.activated.push(a)}function qb(a){Ub.deactivated.push(a)}function rb(a){Ub.hit.push(a)}function sb(a){Ub.collapse.push(a)}function tb(a){Ub.resized.push(a)}function ub(a){c.isUndefinedOrNull(a)?Ub.beforeHide=[]:Ub.beforeHide.push(a)}function vb(a){Ub.hidden.push(a)}function wb(a){Ub.beforeShow.push(a)}function xb(a){Ub.shown.push(a)}function yb(a){Ub.mouseEnter.push(a)}function zb(a){Ub.mouseLeave.push(a)}function Ab(a){Ub.click.push(a)}function Bb(a){Ub.captionSet.push(a)}function Cb(a){Ub.repositioned.push(a)}function Db(){c.addKeyboardActivationToLinkButtons(Lb)}function Eb(){c.addKeyboardActivationToDivButtons(Lb)}function Fb(){c.addButtonActivationCallback(Lb,function(){mb("hit")})}function Gb(a){Lb.keydown(function(b){40==b.which&&a(b)})}var Hb,Ib,Jb,Kb,Lb,Mb={WindowCreated:"edu.apollogrp.pln.pets.core.lightweightwindowbase.windowcreated."},Nb="aes-window",Ob="aes-pets-window",Pb="aes-selected",Qb={$parentElement:null,template:null,storeState:!1,resizeToParentClientArea:!0,addKeyboardActivationToLinkButtons:!0,addKeyboardActivationToDivButtons:!0,escapeToCollapse:!1,caption:"",isVisible:!0,isModal:!1,isModalSelection:!0,stackPosition:0,staticPosition:!0,windowCssClasses:[],activeCssClass:"",inactiveCssClass:"",mouseEnterCssClass:"",mouseLeaveCssClass:""},Rb=c.isUndefinedOrNull(j)?Qb:a.extend({},Qb,j),Sb=!1,Tb=e.create(i),Ub={hit:[],resized:[],beforeHide:[],hidden:[],beforeShow:[],shown:[],activated:[],deactivated:[],mouseEnter:[],mouseLeave:[],captionSet:[],repositioned:[],click:[],collapse:[]},Vb=[];this.__loadTemplate=l,this.__setOptions=n,this.__afterLoad=o,this.__afterControlsLoaded=p,this.__initializeState=db,this.__restoreState=eb,this.__beforePostSynchronousEvent=cb,this.__updateSizeStateAndPostResized=V,this.__updatePositionStateAndPostRepositioned=Y,this.__show=B,this.__hide=x,this.__afterShown=D,this.__afterHidden=z,this._setWindowState=gb,this._getWindowState=hb,this._setSize=U,this._setPosition=X,this._postWindowCreated=lb,this._postSynchronousEvent=mb,this._subscribeSynchronousEvent=ob,this.__updateSizeAndPositionState=fb,this.load=k,this.activate=t,this.deactivate=u,this.toggleVisibility=v,this.hide=w,this.show=A,this.focus=E,this.getId=F,this.setCaption=N,this.getCaption=O,this.setzIndex=P,this.getzIndex=Q,this.setSize=T,this.getSize=R,this.getOuterSize=S,this.setPosition=W,this.getPosition=Z,this.getStackPosition=$,this.getIsStaticallyPositioned=_,this.getIsVisible=G,this.getIsModal=H,this.getIsModalSelection=I,this.getClientAreaSize=bb,this.setParentWindow=J,this.getParentWindow=K,this.setOpenerWindow=L,this.getOpenerWindow=M,this.addControl=q,this.getControl=r,this.getControls=s,this.get$ClientAreaRootElement=ab,this.addKeyboardActivationToLinkButtons=Db,this.addKeyboardActivationToDivButtons=Eb,this.addButtonActivationHit=Fb,this.addDownArrowCallback=Gb,this.windowCreated=nb,this.activated=pb,this.deactivated=qb,this.hit=rb,this.collapse=sb,this.resized=tb,this.beforeHide=ub,this.hidden=vb,this.beforeShow=wb,this.shown=xb,this.mouseEnter=yb,this.mouseLeave=zb,this.click=Ab,this.captionSet=Bb,this.repositioned=Cb,Hb=this}return d.trace("PETs-Client-Core::lightweightWindowBase::ctor"),{create:function(a,b){return new i(a,b)},extend:function(a,b,d,e){return c.derive(new i(d,e),a,b)}}});

define("pets-client-core/2.6.0/public/javascript/windowbase", ["ncf-thirdparty/jquery-1.7.1/public/javascript/jquery","pets-client-core/2.6.0/public/javascript/utility","pets-client-core/2.6.0/public/javascript/logger","pets-client-core/2.6.0/public/javascript/petsconfig!stringresources","pets-client-core/2.6.0/public/javascript/lightweightwindowbase","pets-client-core/2.6.0/public/javascript/windowstateenum","pets-client-core/2.6.0/public/javascript/windowstatefactory","pets-client-core/2.6.0/public/javascript/windowmanager","pets-client-core/2.6.0/public/javascript/templatemanager","pets-client-core/2.6.0/public/partialsClient/window/windowbase.compiled"],function(a,b,c,d,e,f,g,h,i,j){function k(){var b,c,d=a("<p></p>"),e=a("<div></div>");return d.css({width:"100%",height:"200px"}),e.css({position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.append(d),a("body").append(e),b=d.get(0).offsetWidth,e.css("overflow","scroll"),c=d.get(0).offsetWidth,b===c&&(c=e.get(0).clientWidth),e.remove(),b-c}function l(e,g){function i(){b.isUndefinedOrNull(sb)&&(sb=rb.base.get$ClientAreaRootElement())}function j(){i(),b.isUndefinedOrNull(zb)&&(yb=sb.find("#aes-window-boundary-begin-"+e),zb=sb.find("#aes-window-titlebar-"+e),Ab=sb.find("#aes-window-clientarea-"+e),Bb=sb.find("#aes-window-footer-"+e),Cb=sb.find("#aes-window-boundary-end-"+e))}function k(a){rb.base.__setOptions(),l(a)}function l(f){c.trace("PETs-Client-Core::windowBase::init "+e);var g,i,k=a(window).height(),l=a(window).width();j(),vb.length>0&&a(window).on("resize",function(){(a(window).height()!==k||a(window).width()!==l)&&(k=a(window).height(),l=a(window).width(),fb(),ab(),rb.invokeVirtual("__updateSizeAndPositionState"),rb._postSynchronousEvent("resized",{size:rb.getSize(),clientAreaSize:Z()}))}),yb.text(b.formatString(d.WINDOW_BOUNDARY_BEGIN,"")),Cb.text(b.formatString(d.WINDOW_BOUNDARY_END,"")),ub.showTitlebar?(zb.height(ub.titlebarHeight),N(ub.caption)):zb.hide(),ub.showFooter?Bb.height(ub.footerHeight):Bb.hide(),ub.showScrollbars?Ab.css("overflow","scroll"):Ab.css("overflow","visible"),ub.allowMove&&(a.isArray(ub.restrictMove)||(ub.restrictMove=[ub.restrictMove]),g={iframeFix:!0,start:function(){xb=!0},drag:function(b,c){var d,e=a(window),f=e.height(),g=e.width(),h=rb.invokeVirtual("__calculateMinHeight",{$rootElement:sb});ub.allowResizeViaMove&&(a.inArray("x",ub.restrictMove)>-1&&(c.position.left=c.originalPosition.left),a.inArray("y",ub.restrictMove)>-1&&(c.position.top=c.originalPosition.top),c.position.left+sb.width()>g&&(c.position.left=g-sb.width()),c.position.left<0&&(c.position.left=0),d=f-c.position.top,h>d&&(c.position.top=f-h),c.position.top<40&&(c.position.top=40),c.helper.height(f-c.position.top),ab(),rb._postSynchronousEvent("resized",{size:rb.getSize(),clientAreaSize:Z()}))},stop:function(){xb=!1,rb.invokeVirtual("__updateSizeAndPositionState"),rb._postSynchronousEvent("repositioned",{position:rb.getPosition()}),rb._postSynchronousEvent("resized",{size:rb.getSize(),clientAreaSize:Z()}),h.clearRepositionData(e)}},ub.allowResizeViaMove||(g.containment="window"),ub.allowResizeViaMove||!vb.hasOwnProperty("t")&&!vb.hasOwnProperty("b")||(g.axis="x"),ub.allowResizeViaMove||!vb.hasOwnProperty("l")&&!vb.hasOwnProperty("r")||(g.axis="y"),ub.showTitlebar?(zb.css("cursor","move"),g.handle="#aes-window-titlebar-"+e,sb.draggable(g)):sb.draggable(g)),ub.allowResize&&(i=0,qb=sb.css("position"),ub.showTitlebar&&(i+=ub.titlebarHeight),ub.showFooter&&(i+=ub.footerHeight),a.isArray(ub.resizeDirections)||(ub.resizeDirections=[ub.resizeDirections]),sb.resizable({minHeight:i,containment:"document",handles:gb().join(", "),start:function(){wb=!0,hb(),rb.invokeVirtual("__setResizeMinWidthMinHeight",{$rootElement:sb}),a("iframe").each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")})},stop:function(){wb=!1,sb.css("position",qb),rb.invokeVirtual("__updateSizeAndPositionState"),rb._postSynchronousEvent("resized",{size:rb.getSize(),clientAreaSize:Z()}),a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})},resize:function(){ab()}})),ub.showMinimizeButton?sb.find("#aes-window-header-minimize-"+e).css("cursor","pointer").on("click",$):sb.find("#aes-window-header-minimize-"+e).hide(),ub.showCloseButton?sb.find("#aes-window-header-close-"+e).css("cursor","pointer").on("click",function(){rb.getIsVisible()?rb.hide():rb.show()}):sb.find("#aes-window-header-close-"+e).hide(),f()}function o(){fb(),ab(),rb.invokeVirtual("__updateSizeAndPositionState"),rb._postSynchronousEvent("resized",{size:rb.getSize(),clientAreaSize:Z()}),rb.base.__afterControlsLoaded()}function p(a,b){return("resized"===a||"resizing"===a)&&(b.clientAreaSize=rb.getClientAreaSize()),b}function q(a){var b=0;j(),ub.showTitlebarWhenMinimized?b+=ub.titlebarHeight:zb.hide(),ub.showFooterWhenMinimized?b+=ub.footerHeight:Bb.hide(),ub.allowMove&&sb.resizable("option","disabled",!0),ub.showClientAreaWhenMinimized||Ab.hide(),sb.animate({height:b},{duration:150,step:function(){fb()},complete:function(){var b=sb.find(m.minimizeButtonSelectorPrefix+e);ub.allowMove&&!ub.allowMoveWhenMinimized&&(zb.css("cursor","default"),sb.draggable("option","disabled",!0)),rb._setWindowState("windowState",f.Minimized),fb(),ab(),sb.addClass("aes-minimized"),b.removeClass(m.minimizeIconClass),b.addClass(m.restoreIconClass),b.find("img").removeClass(m.minimizeIconClass),b.find("img").addClass(m.restoreIconClass),b.attr("title",m.restoreButtonTitle),b.find("img").attr("alt",m.restoreButtonTip),!a&&ub.showTitlebarWhenMinimized&&W().focus(),!a&&ub.showFooterWhenMinimized&&Y().focus(),rb._postSynchronousEvent("minimized")}})}function r(a){j();var c=sb.find(m.minimizeButtonSelectorPrefix+e),d=c.is(":focus");ub.showTitlebar&&(zb.show(),fb(),ab()),sb.height(sb.height()),sb.animate({height:rb._getWindowState("height")},{duration:150,step:function(){fb()},complete:function(){ub.showFooter&&Bb.show(),Ab.show(),ub.allowMove&&!ub.allowMoveWhenMinimized&&(zb.css("cursor","move"),sb.draggable("option","disabled",!1)),ub.allowMove&&sb.resizable("option","disabled",!1),rb._setWindowState("windowState",f.Normal),fb(),ab(),sb.removeClass("aes-minimized"),c.removeClass(m.restoreIconClass),c.addClass(m.minimizeIconClass),c.find("img").removeClass(m.restoreIconClass),c.find("img").addClass(m.minimizeIconClass),c.attr("title",m.minimizeButtonTitle),c.find("img").attr("alt",m.minimizeButtonTip),rb._postSynchronousEvent("restored"),d&&c.focus(),b.doCallback(a)}})}function s(){var c=b.isUndefinedOrNull(ub.$parentElement)?a("body"):ub.$parentElement;i(),sb.height(c.height()),sb.width(c.width())}function t(){return rb._getWindowState("windowState")}function u(){return rb._getWindowState("windowState")===f.Minimized}function v(){return rb._getWindowState("windowState")===f.Maximized}function w(){return rb._getWindowState("windowState")===f.Normal}function x(){return rb._getWindowState("left")}function y(){return ub.allowMove}function z(){return ub.allowResize}function A(){return ub.allowMoveWhenMinimized}function B(){return ub.showMinimizeButton}function C(){return ub.showMaximizeButton}function D(){return ub.showCloseButton}function E(){return ub.showTitlebar}function F(){return ub.showFooter}function G(){return ub.showTitlebarWhenMinimized}function H(){return ub.showFooterWhenMinimized}function I(){return ub.showScrollbars}function J(){j(),rb._setWindowState("showScrollbars",!0),Ab.css("overflow","scroll")}function K(){j(),rb._setWindowState("showScrollbars",!1),Ab.css("overflow","hidden")}function L(){return j(),zb.find(m.windowCaptionSelectorPrefix+e).html()}function M(a){N(a),rb.base.setCaption(a)}function N(a){j(),yb.text(b.formatString(d.WINDOW_BOUNDARY_BEGIN,a)),zb.find(m.windowCaptionSelectorPrefix+e).html(a),Cb.text(b.formatString(d.WINDOW_BOUNDARY_END,a))}function O(){return j(),zb.find(m.windowCaptionSelectorPrefix+e)}function P(){return j(),zb.find(m.windowCaptionSelectorPrefix+e).attr("title")}function Q(a){j(),zb.find(m.windowCaptionSelectorPrefix+e).attr("title",a)}function R(){fb(),ab(),rb.invokeVirtual("__updateSizeAndPositionState"),rb._postSynchronousEvent("resized",{size:rb.getSize(),clientAreaSize:Z()})}function S(){fb(),ab(),rb.invokeVirtual("__updateSizeAndPositionState"),rb._postSynchronousEvent("repositioned",{position:rb.getPosition(),clientAreaSize:Z()})}function T(){if(rb.getIsVisible()){var a=rb.getSize(),b=rb.getPosition();rb._setWindowState("left",b.left),rb._setWindowState("width",a.width),u()||(rb._setWindowState("top",b.top),rb._setWindowState("height",a.height))}}function U(){return j(),Ab}function V(){return j(),zb}function W(){return V().find(":focusable:first")}function X(){return j(),Bb}function Y(){return X().find(":focusable:first")}function Z(){j();var a={height:Ab.height(),width:Ab.width()};return ub.showScrollbars&&(a.height-=n,a.width-=n),a}function $(){var a=t();a===f.Minimized||a===f.Maximized?r():t()===f.Normal&&q()}function _(){var b=ub.lockedSides,c={};a.isArray(b)||(b=[b]),c.length=b.length;for(var d=0,e=b.length;e>d;d++)c[b[d].substr(0,1)]=b[d].length>1?Number(b[d].substr(1)):0;return c}function ab(){bb()}function bb(){var a=t(),b=ub.showTitlebar&&(a===f.Normal||a===f.Maximized)||a===f.Minimized&&ub.showTitlebarWhenMinimized?ub.titlebarHeight:0,c=ub.showFooter&&(a===f.Normal||a===f.Maximized)||ub.showFooter&&a===f.Minimized&&ub.showFooterWhenMinimized?ub.footerHeight:0,d=rb.getSize();j(),Ab.css("top",b),Ab.height(d.height-(b+c)),Ab.width(d.width)}function cb(){h.positionWindow(rb,null,ub.initialPosition),rb.base.__initializeState(),rb._setWindowState("windowState",ub.windowState),rb._setWindowState("stackPosition",ub.stackPosition),rb._setWindowState("showScrollbars",ub.showScrollbars)}function db(){switch(rb._getWindowState("isVisible")?rb.base.__show(null,null,{restoring:!0}):rb.base.__hide(null,null,{restoring:!0}),vb.hasOwnProperty("t")||vb.hasOwnProperty("b")||rb.setPosition({top:rb._getWindowState("top")}),vb.hasOwnProperty("l")||vb.hasOwnProperty("r")||rb.setPosition({left:rb._getWindowState("left")}),rb.setSize({height:rb._getWindowState("height"),width:rb._getWindowState("width")}),t()){case f.Minimized:q();break;case f.Maximized:s();break;default:rb._setWindowState("windowState",f.Normal)}}function eb(){return vb}function fb(c){var d=a(window);i(),sb.hide(),b.isUndefinedOrNull(c)||(vb=c),vb.hasOwnProperty("t")&&sb.css("top",vb.t),vb.hasOwnProperty("l")&&sb.css("left",vb.l),vb.hasOwnProperty("b")&&(vb.hasOwnProperty("t")?sb.height(d.outerHeight()-(vb.b+vb.t)):(sb.css("top","auto"),sb.css("bottom",vb.b))),vb.hasOwnProperty("r")&&(vb.hasOwnProperty("l")?sb.width(d.outerWidth()-(vb.r+vb.l)):(sb.css("left","auto"),sb.css("right",vb.r))),rb.getIsVisible()&&sb.show()}function gb(){return a.grep(ub.resizeDirections,function(a){return a.indexOf("n")>-1&&vb.hasOwnProperty("t")||a.indexOf("e")>-1&&vb.hasOwnProperty("r")||a.indexOf("s")>-1&&vb.hasOwnProperty("b")||a.indexOf("w")>-1&&vb.hasOwnProperty("l")},!0)}function hb(){var b,c,d;i(),b=sb.position(),ub.allowResize&&(c=vb.hasOwnProperty("t")||vb.hasOwnProperty("b")?a(window).outerHeight():a(window).outerHeight()-b.top,d=vb.hasOwnProperty("l")||vb.hasOwnProperty("r")?a(window).outerWidth():a(window).outerWidth()-b.left,sb.resizable("option","maxHeight",c),sb.resizable("option","maxWidth",d))}function ib(a){a.$rootElement.resizable("option","minWidth",rb.invokeVirtual("__calculateMinWidth",a)),a.$rootElement.resizable("option","minHeight",rb.invokeVirtual("__calculateMinHeight",a))}function jb(){return 150}function kb(){return ub.showTitlebar?ub.titlebarHeight:0+ub.showFooter?ub.footerHeight:0}function lb(a){rb._subscribeSynchronousEvent("resizing",a)}function mb(a){rb._subscribeSynchronousEvent("repositioning",a)}function nb(a){rb._subscribeSynchronousEvent("repositioned",a)}function ob(a){rb._subscribeSynchronousEvent("minimized",a)}function pb(a){rb._subscribeSynchronousEvent("restored",a)}var qb,rb,sb,tb={clientAreaTemplate:null,showMinimizeButton:!0,showMaximizeButton:!0,showCloseButton:!0,showTitlebar:!0,showFooter:!0,showTitlebarWhenMinimized:!0,showFooterWhenMinimized:!1,showClientAreaWhenMinimized:!1,showScrollbars:!0,allowMove:!0,allowResize:!0,allowResizeViaMove:!1,allowMoveWhenMinimized:!0,restrictMove:[],windowState:f.Normal,titlebarHeight:32,footerHeight:25,initialPosition:"",stackPosition:"",lockedSides:[],resizeDirections:["n","s","e","w","ne","se","sw","nw"]},ub=b.isUndefinedOrNull(g)?tb:a.extend({},tb,g),vb=_(),wb=!1,xb=!1,yb=null,zb=null,Ab=null,Bb=null,Cb=null;this.__setOptions=k,this.__afterControlsLoaded=o,this.__initializeState=cb,this.__restoreState=db,this.__beforePostSynchronousEvent=p,this.__updateSizeStateAndPostResized=R,this.__updatePositionStateAndPostRepositioned=S,this.__updateSizeAndPositionState=T,this.__setResizeMinWidthMinHeight=ib,this.__calculateMinHeight=kb,this.__calculateMindWidth=jb,this.get$ClientAreaRootElement=U,this.getCaption=L,this.setCaption=M,this.get$CaptionElement=O,this.getCaptionTitle=P,this.setCaptionTitle=Q,this.minimizeWindow=q,this.restoreWindow=r,this.getWinState=t,this.getWinStateLeft=x,this.getIsMinimized=u,this.getIsMaximized=v,this.getIsNormal=w,this.getAllowMove=y,this.getAllowResize=z,this.getAllowMoveWhenMinimized=A,this.getShowMinimizeButton=B,this.getShowMaximizeButton=C,this.getShowCloseButton=D,this.getShowTitlebar=E,this.getShowFooter=F,this.getShowTitlebarWhenMinimized=G,this.getShowFooterWhenMinimized=H,this.getShowScrollbars=I,this.getLockedSides=eb,this.setLockedSides=fb,this.showScrollbars=J,this.hideScrollbars=K,this.getClientAreaSize=Z,this.get$TitlebarRootElement=V,this.get$FirstFocusableTitlebarElement=W,this.get$FooterElement=X,this.get$FirstFocusableFooterElement=Y,this.resizing=lb,this.repositioning=mb,this.repositioned=nb,this.minimized=ob,this.restored=pb,rb=this}c.trace("PETs-Client-Core::windowBase::ctor");var m={main:{templateName:i.getTemplateNameFromPath(j.path)},screenReaderOnlyClass:"aes-pets-sr-only",minimizeButtonSelectorPrefix:"#aes-window-header-minimize-button-",minimizeButtonTitle:"Minimize",minimizeButtonTip:"minimize window",restoreButtonTitle:"Restore",restoreButtonTip:"restore window",minimizeIconClass:"aes-minimize-light",restoreIconClass:"aes-restore-light",windowCaptionSelectorPrefix:"#aes-window-caption-"},n=k();return a.fn.paddingLeft=function(){return Number(/\d+/.exec(this.css("padding-left"))[0])},a.fn.paddingRight=function(){return Number(/\d+/.exec(this.css("padding-right"))[0])},{extend:function(a,c,d,f){var g,h=Array.prototype.slice.call(arguments,2);return f.template=b.isUndefinedOrNull(f.windowTemplate)?m.main.templateName:f.windowTemplate,g=e.extend(l,h,d,f),b.derive(g,a,c)}}});

define("pets-client-core/2.6.0/public/javascript/petsbarwidget", ["ncf-thirdparty/jquery-1.7.1/public/javascript/jquery","pets-client-core/2.6.0/public/javascript/utility","pets-client-core/2.6.0/public/javascript/logger","pets-client-core/2.6.0/public/javascript/lightweightwindowbase","pets-client-core/2.6.0/public/javascript/petsbardisplaytypeenum","pets-client-core/2.6.0/public/javascript/petsbarmessagetypeenum","pets-client-core/2.6.0/public/javascript/externalevent","pets-client-core/2.6.0/public/javascript/analyticseventsenum","pets-client-core/2.6.0/public/javascript/analytics","pets-client-core/2.6.0/public/javascript/windowmanager","pets-client-core/2.6.0/public/javascript/templatemanager","pets-client-core/2.6.0/public/partialsClient/petsbar/petsbaritem.compiled"],function(a,b,c,d,e,f,g,h,i,j,k,l){function m(){function c(d,f,m){if(!E)return void G.push(function(){c(d,f,m)});var o={id:d,caption:"",options:m,loaded:!1,widgetLoaded:!1,queue:[]},p={};F.push(o),m.displayType===e.Icon&&(f.loading(q),f.loaded(r),f.error(s),f.messageIndication(t),f.focusBefore(u),f.focusAfter(v)),p.id=l(d),p.displayIndex=m.displayIndex,p.caption=m.caption,p.iconInfo=m.iconInfo,p.renderInDock=m.renderInDock,(m.displayType&e.Icon)===e.Icon&&(p.showIcon=!0),(m.displayType&e.Caption)===e.Caption&&(p.showCaption=!0),k.applyTemplate(n.item.templateName,p,function(c,e){if(!c){var f=a(e),k=f.find("button"),l=!1;A.children().each(function(b,c){var d=a(c);return d.attr("id")==p.id?(l=!0,d.replaceWith(f),!1):m.displayIndex<parseInt(d.attr("data-displayindex"),10)?(l=!0,d.before(f),!1):void 0}),l||A.append(f),o.loaded=!0,o.$iconElement=f,x(o,o.queue),f.click(function(a){return a.stopPropagation(),i.publishEvent(h.PetShown,C,{currentWidgetId:d,currentCaption:w(d).caption}),g("iconClicked",{widgetId:d}),!1}),b.addKeyboardActivationToLinkButtons(f),f.keydown(function(a){9==a.which&&!a.shiftKey&&f.hasClass("aes-selected")&&(a.preventDefault(),j.getWindow(d).focus())}),p.showIcon&&p.renderInDock&&k.attr("aria-controls",j.PETS_DOCK_ID),p.showIcon&&!p.renderInDock&&(k.attr("aria-controls",d),a("#"+d).insertAfter(k))}})}function d(a){H.iconClicked.push(a)}function g(a,b){for(var c=H[a]||[],d=0,e=c.length;e>d;d++)c[d].call(D,b)}function l(a){return"aes-pets-bar-"+a}function m(c){var d,e;if(b.isUndefinedOrNull(A))return void setTimeout(function(){m(c)},5);if(A.children().removeClass("aes-selected"),A.children().find("button").each(function(b,c){e=a(c),e.attr("aria-expanded")&&e.attr("aria-expanded",!1)}),!b.isUndefinedOrNull(c)){if(d=A.find("#"+l(c)),!(d.length>0))return void setTimeout(function(){m(c)},5);d.addClass("aes-selected"),e=d.find("button"),e.attr("aria-expanded")&&e.attr("aria-expanded",!0)}}function o(a,b){y(a,function(){this.$iconElement.find("img").attr("src",b)})}function p(a,b){!function(a,c){w(a).caption=b,y(a,function(){var a=this.$iconElement;a.find("#aes-petsbar-caption").html(c),a.find("img").attr("alt",c)})}(a,b)}function q(a,b){!function(a){w(a).widgetLoaded||y(a,function(){this.$iconElement.addClass("aes-loading")})}(b.id)}function r(a,b){!function(a){y(a,function(){this.$iconElement.removeClass("aes-loading"),B.hide(),this.$iconElement.removeClass("aes-messaged"),this.$iconElement.find(".aes-pets-error").addClass("aes-hide")}),w(a).widgetLoaded=!0}(b.id)}function s(b,c){!function(a){y(a.widgetId,function(){a.showMessage===!1?this.$iconElement.find(".aes-pets-error").removeClass("aes-hide"):(this.$iconElement.addClass("aes-pets-icon-error"),a.type=f.Error,B.render(a),B.show(),this.$iconElement.addClass("aes-messaged"))})}(a.extend(c))}function t(a,c){!function(a,c){y(a,function(){var d=this.$iconElement.find("#aes-pet-msg-"+l(a));d.toggleClass("aes-hide",b.isUndefinedOrNull(c)?!0:0===c.length),d.html(c)})}(c.widgetId,c.text)}function u(a){var b=A.find("#"+l(a.id));b&&b.find(":focusable:first").focus()}function v(a){var b=A.find("#"+l(a.id));b&&b.find(":focusable:first").focus()}function w(a){return b.getObjectFromObjectArray(F,"id",a)}function x(a,b){for(var c=0,d=b.length;d>c;c++)b[c].call(a);b=null}function y(a,b){var c=w(a);c.loaded?b.call(c):c.queue.push(b)}var z,A,B,C="petsbarwidget",D=this,E=!1,F=[],G=[],H={iconClicked:[]};this.windowCreated(function(){z=D.get$ClientAreaRootElement(),A=z.find("#aes-petsbar-iconspace"),B=D.getControl("aes-petsbar-message"),E=!0;for(var a=0,b=G.length;b>a;a++)G[a].call(D)}),this.registerIcon=c,this.setIconInfo=o,this.setCaption=p,this.setActiveWidgetIcon=m,this.iconClicked=d}var n={item:{templateName:k.getTemplateNameFromPath(l.path)}};return{create:function(a,b){var c=d.extend(m,arguments,a,b);return c.load(),c}}});

define("pets-client-core/2.6.0/public/javascript/petsbarmessagecontrol", ["ncf-thirdparty/jquery-1.7.1/public/javascript/jquery","pets-client-core/2.6.0/public/javascript/utility","pets-client-core/2.6.0/public/javascript/logger","pets-client-core/2.6.0/public/javascript/lightweightwindowbase","pets-client-core/2.6.0/public/javascript/templatemanager","pets-client-core/2.6.0/public/javascript/petsbarmessagetypeenum"],function(a,b,c,d,e,f){function g(){function a(a){var c=g.get$ClientAreaRootElement(),i=b.isUndefinedOrNull(a.messageType)?f.Error:a.messageType,j=b.isUndefinedOrNull(a.templateName)?h[b.getObjPropNameByValue(f,i)]:a.templateName;e.replaceContentFromTemplate(c,j,a),b.isFunction(a.clickCallback)&&(d=a.clickCallback)}var c,d,g=this;this.windowCreated(function(){c=g.get$ClientAreaRootElement(),c.click(function(a){b.isFunction(d)&&d(a)})}),this.render=a}var h={Information:"pets-client-core/2.6.0/public/partialsClient/petsbar/message.template",Warning:"pets-client-core/2.6.0/public/partialsClient/petsbar/message.template",Error:"pets-client-core/2.6.0/public/partialsClient/petsbar/message.template"};return{create:function(a,b){b.template=h.template;var c=d.extend(g,arguments,a,b);return c.load(),c}}});

define("pets-client-core/2.6.0/public/javascript/dockwindowfactory", ["ncf-thirdparty/jquery-1.7.1/public/javascript/jquery","pets-client-core/2.6.0/public/javascript/utility","pets-client-core/2.6.0/public/javascript/logger","pets-client-core/2.6.0/public/javascript/internalevent","pets-client-core/2.6.0/public/javascript/windowbase","pets-client-core/2.6.0/public/javascript/windowmanager","pets-client-core/2.6.0/public/javascript/analyticseventsenum","pets-client-core/2.6.0/public/javascript/analytics","pets-client-core/2.6.0/public/javascript/petsconfig!pets","pets-client-core/2.6.0/public/javascript/templatemanager","pets-client-core/2.6.0/public/partialsClient/dock/dockwindow.compiled"],function(a,b,c,d,e,f,g,h,i,j,k){function l(){function c(){K.base.base.__restoreState(),!e()&&B()&&(l(!0),A(!0)),K.getIsVisible()&&m(D())}function d(){K.setSize({width:230}),j(e()),a("body").toggleClass("aes-ui-wide",L)}function e(){return a(window).width()>I}function j(a){L!==a&&(L=a,L?(F=K.getLockedSides(),K.setLockedSides({t:F.t,b:0,r:0}),x().hide(),y().show()):(K.setLockedSides(F),y().hide(),x().show()))}function k(){var a=B();l(!a),A(!a)}function l(a){var b=x();a?(b.attr("aria-pressed",!0),b.removeClass("aes-unlock").addClass("aes-lock")):(b.attr("aria-pressed",!1),b.removeClass("aes-lock").addClass("aes-unlock"))}function m(a){var c;c=f.getWindow(a),b.isUndefinedOrNull(c)?setTimeout(function(){m(a)},b.generateRandomInt(5,15)):c.getRenderInDock()?K.show(function(){z(),r(D(),!1),K.setCaption(c.getCaption()),b.getObjectFromObjectArray(N,"id",a).$clientAreaSection.show(),c.show(),C(a),r(a,!0),f.getPetsBar().setActiveWidgetIcon(a)}):c.show()}function n(a){var c=f.getWindow(a);c.getRenderInDock()?w()&&(K.hide(),c.getRenderInDock()&&b.getObjectFromObjectArray(N,"id",a).$clientAreaSection.hide(),r(a,!1),c.hide()):c.hide()}function o(b){var c=a("<section></section>").attr("id","aes-pets-dock-widgetsection-"+b);return M?u(b,c):O.push({id:b,$section:c}),N.push({id:b,$clientAreaSection:c}),c}function p(a){a.setParentWindow(K)}function q(a,c){var d=P[a],e={control:c,moved:!1};b.isUndefinedOrNull(d)&&(P[a]=[]),b.isUndefinedOrNull(K.get$TitlebarRootElement())||(e.moved=!0,c.get$ClientAreaRootElement().appendTo(K.get$TitlebarRootElement())),c.hide(),P[a].push(e),D()==a&&(s(!1),r(a,!0))}function r(a,c){var d=P[a];if(!b.isUndefinedOrNull(d))for(var e=0,f=d.length;f>e;e++)d[e].control.toggleVisibility(c)}function s(a){for(var b in P)P.hasOwnProperty(b)&&r(b,a)}function t(){for(var a,b=0,c=O.length;c>b;b++)a=O[b],u(a.id,a.$section);O=null}function u(a,c){var d=f.getWindow(a);return b.isUndefinedOrNull(d)?void setTimeout(function(){u(a,c)},b.generateRandomInt(5,15)):(d.windowCreated(function(){this.getId()!==D()?(d.hide(),c.hide()):(d.show(),c.show(),K.setCaption(this.getCaption())),d.captionSet(function(){D()===this.getId()&&K.setCaption(this.getCaption())})}),void K.get$ClientAreaRootElement().append(c))}function v(a){var b=f.getWindow(a.widgetId);K.getIsVisible()&&a.widgetId===D()?(Q=L||B(),n(a.widgetId)):b.getRenderInDock()?(m(a.widgetId),setTimeout(function(){b.focus()},i.uiFocusDelayMs)):b.getIsVisible()?n(a.widgetId):(m(a.widgetId),setTimeout(function(){b.focus()},i.uiFocusDelayMs))}function w(){return!B()&&!L||Q}function x(){return K.get$FooterElement().find("#aes-pets-dock-locktoggle")}function y(){return K.get$FooterElement().find("#aes-pets-dock-docktoggle")}function z(){for(var a,b,c=0,d=N.length;d>c;c++)a=N[c],b=f.getWindow(a.id),b.getRenderInDock()&&(b.hide(),a.$clientAreaSection.hide())}function A(a){K._setWindowState("isLocked",a)}function B(){return K._getWindowState("isLocked")}function C(a){K._setWindowState("currentWidgetId",a)}function D(){return K._getWindowState("currentWidgetId")}function E(a){K._subscribeSynchronousEvent("focusAfter",a)}var F,G,H,I=1280,J="PETS-Dock",K=this,L=null,M=!1,N=[],O=[],P={},Q=!1;K.beforeHide(function(){return!0}),K.shown(function(){f.positionWindows()}),K.windowCreated(function(){M=!0,t(),K.beforeHide(null),K.beforeHide(function(){var a=!w();return Q=!1,a}),K.hidden(function(){f.getPetsBar().setActiveWidgetIcon(),f.positionWindows(),h.publishEvent(g.DockHidden,J,{currentWidgetId:D()})}),x().on("click",function(){return k(),B()?h.publishEvent(g.DockLocked,J,{currentWidgetId:D()}):h.publishEvent(g.DockUnlocked,J,{currentWidgetId:D()}),!1}),x().keydown(function(a){9!=a.which||a.shiftKey||(a.preventDefault(),K._postSynchronousEvent("focusAfter",{widgetId:D()}))}),y().on("click",function(){return Q=!0,n(D()),K._postSynchronousEvent("focusAfter",{widgetId:D()}),!1}),y().keydown(function(a){9!=a.which||a.shiftKey||(a.preventDefault(),K._postSynchronousEvent("focusAfter",{widgetId:D()}))}),G=a(window).height(),H=a(window).width(),a(window).resize(function(){(a(window).height()!==G||a(window).width()!==H)&&(G=a(window).height(),H=a(window).width(),d())}),f.getPetsBar().iconClicked(v);for(var b in P)if(P.hasOwnProperty(b))for(var c=0,i=P[b].length;i>c;c++)P[b][c].moved||(P[b][c].moved=!0,P[b][c].control.get$ClientAreaRootElement().appendTo(K.get$TitlebarRootElement()));j(e())}),K.__restoreState=c,K.registerWidget=o,K.setWidgetParent=p,K.registerTitlebarControl=q,K.showWidget=m,K.hideWidget=n,K.getCurrentWidgetId=D,K.getIsLocked=B,K.focusAfter=E}c.trace("PETs-Client-Core::dockWidget::ctor");var m={main:{templateName:j.getTemplateNameFromPath(k.path)},screenReaderOnlyClass:"aes-pets-sr-only",lockUnlockedTitleText:"Press to pin tools window open",lockUnlockedScreenReaderText:"pin the tools widget to keep it open",lockLockedTitleText:"Press to unpin tools window",lockLockedScreenReaderText:"unpin the tools widget to close it when not in use"};return{create:function(a,b){var c,d="nodockcache"===((window.location.toString().match(/(?:\?|&)(nodockcache)/)||"")[1]||"").toLowerCase();return b.$parentElement=b.$parseElement,b.windowTemplate=m.main.templateName,d&&(b.storeState=!1),c=e.extend(l,arguments,a,b),c.load(),c}}});

define("pets-client-core/2.6.0/public/javascript/widgetbase", ["ncf-thirdparty/jquery-1.7.1/public/javascript/jquery","pets-client-core/2.6.0/public/javascript/utility","pets-client-core/2.6.0/public/javascript/logger","pets-client-core/2.6.0/public/javascript/externalevent","pets-client-core/2.6.0/public/javascript/lightweightwindowbase","pets-client-core/2.6.0/public/javascript/windowbase","pets-client-core/2.6.0/public/javascript/windowmanager"],function(a,b,c,d,e,f,g){function h(e,f){function g(){return c.trace("PETs-Client-Core::widgetBase:getWidgetId"),e}function h(){return D.renderInDock}function i(a){return D[a]}function j(a,b){D[a]=b}function k(b){b=b||{},d.publish(B.Loading+e,a.extend(b,{id:e}))}function l(b){b=b||{},d.publish(B.Loaded+e,a.extend(b,{id:e}));var c=A.invokeVirtual("__get$focusInElement");c&&c.keydown(function(a){9==a.which&&a.shiftKey&&(a.preventDefault(),A._postSynchronousEvent("focusBefore",{id:e}))})}function m(b){var c=a.extend(!0,{},{widgetId:e},b);d.publish(B.Error+e,c)}function n(b){var c=a.extend(!0,{},{widgetId:e},b);d.publish(B.MessageIndication+e,c)}function o(a){return d.subscribe(B.Loading+e,a)}function p(a){return d.subscribe(B.Loaded+e,a)}function q(a){return d.subscribe(B.Error+e,a)}function r(a){return d.subscribe(B.MessageIndication+e,a)}function s(a){A._subscribeSynchronousEvent("focusBefore",a)}function t(a){A._subscribeSynchronousEvent("focusAfter",a)}function u(){A.get$ClientAreaRootElement().find(".aes-list").on("scroll",function(){var b=a(this);b.scrollTop()>0&&!b.hasClass("aes-scrolled-list")?b.addClass("aes-scrolled-list"):0===b.scrollTop()&&b.hasClass("aes-scrolled-list")&&b.removeClass("aes-scrolled-list")})}function v(){}function w(){}function x(){var a=A.invokeVirtual("__get$focusInElement");a&&a.focus()}function y(){return null}function z(){return null}var A,B={Loading:"edu.apollogrp.pln.pets.core.widgetbase.loading.",Loaded:"edu.apollogrp.pln.pets.core.widgetbase.loaded.",Error:"edu.apollogrp.pln.pets.core.widgetbase.error.",MessageIndication:"edu.apollogrp.pln.pets.core.widgetbase.messageindication."},C={waitForDock:!1,renderInDock:!0,showIconInPetsBar:!1},D=b.isUndefinedOrNull(f)?C:a.extend({},C,f);this.windowCreated(k),this.getId=g,this.getRenderInDock=h,this.getOption=i,this.setOption=j,this.postLoading=k,this.postLoaded=l,this.postError=m,this.postMessageIndication=n,this.loading=o,this.loaded=p,this.error=q,this.messageIndication=r,this.init=u,this.render=v,this.renderComplete=w,this.focus=x,this.focusBefore=s,this.focusAfter=t,this.__get$focusInElement=y,this.__get$focusOutElement=z,A=this}return c.trace("PETs-Client-Core::widgetBase::ctor"),{extend:function(a,c,d){d.renderInDock&&(d.$parentElement=g.getPetsDock().registerWidget(c));var i,j=Array.prototype.slice.call(arguments,1);return i=b.isUndefinedOrNull(d.windowTemplate)?e.extend(h,j,c,d):f.extend(h,j,c,d),d.renderInDock&&g.getPetsDock().setWidgetParent(i),i.load(),b.derive(i,a,j)}}});

define("pets-client-core/2.6.0/public/javascript/modules-bundle.bundle", ["pets-client-core/2.6.0/public/javascript/audio","pets-client-core/2.6.0/public/javascript/analytics","pets-client-core/2.6.0/public/javascript/analyticseventsenum","pets-client-core/2.6.0/public/javascript/cdsapi","pets-client-core/2.6.0/public/javascript/throttledhttpconnector","pets-client-core/2.6.0/public/javascript/featureloader","pets-client-core/2.6.0/public/javascript/dynamicloader","pets-client-core/2.6.0/public/javascript/cachedqueue","pets-client-core/2.6.0/public/javascript/controllerbase","pets-client-core/2.6.0/public/javascript/petsbardisplaytypeenum","pets-client-core/2.6.0/public/javascript/petsbarmessagetypeenum","pets-client-core/2.6.0/public/javascript/petsconfig","pets-client-core/2.6.0/public/javascript/windowstateenum","pets-client-core/2.6.0/public/javascript/lightweightwindowbase","pets-client-core/2.6.0/public/javascript/windowbase","pets-client-core/2.6.0/public/javascript/widgetbase","pets-client-core/2.6.0/public/javascript/windowmanager","pets-client-core/2.6.0/public/javascript/dockwindowfactory","pets-client-core/2.6.0/public/javascript/petsbarwidget","pets-client-core/2.6.0/public/javascript/petsbarmessagecontrol"],function(){});

define("pets-client-core/2.6.0/public/javascript/modules-bundle", ["pets-client-core/2.6.0/public/javascript/modules-bundle.bundle"], function(temp){
  return temp;
});

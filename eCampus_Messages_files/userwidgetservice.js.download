define([],function(){return{init:function(){require(["ncf-thirdparty/jquery-1.7.1/public/javascript/jquery"],function(a){function b(a){a==h?l.first().focus():j.focus()}function c(){return k.hasClass(g)}function d(){k.removeClass(g).addClass(h),j.attr("aria-expanded","false")}function e(){f(h,g,"userwidget-menu"),j.attr("aria-expanded",c())}function f(a,c,d){i.find("#"+d).hasClass(a)?(i.find("#"+d).removeClass(a).addClass(c),b(a)):(i.find("#"+d).hasClass(c)&&i.find("#"+d).removeClass(c),i.find("#"+d).addClass(a),b(c))}var g="uwidgetdisplay",h="uwidgetdisplaynone",i=a("#divUserWidget"),j=i.find("#userwidget-header"),k=i.find("#userwidget-menu"),l=i.find("#userwidget-menu .userwidget-link"),m=function(){function b(a){var b=a["people.profileBlurb"].profileFields;void 0!=b.name&&b.name.length>1&&(i.find("#userWidgetAvatarURL").attr("src",b.avatarUrl.length>1?b.avatarUrl:"/te/pets-client-core/public/img/avatar-default.png"),i.find("#spanUserWidgetName").html(b.name),i.find("#spanUserWidgetIRN").html(b.irn),i.show())}function c(a){console.log(" There is an error occurred in userwidgetservice - "+a.status)}function d(){console.log(" There is an error occurred in userwidgetservice - "+request.status)}a.ajax({dataType:"json",url:"/api/profileeditor/people/blurb/home/.json?a="+10*Math.random(),headers:{Accept:"application/json;charset=UTF-8"},type:"GET",success:b,error:c,statusCode:d})};a(document).ready(function(){m(),j.click(function(a){e(),a.stopPropagation()}),j.keydown(function(a){32==a.keyCode||13==a.keyCode?(a.preventDefault(),e()):40==a.which||38==a.which?(a.preventDefault(),e()):9==a.which&&c()&&e()}),j.keyup(function(a){27==a.keyCode&&(a.preventDefault(),c()&&e())}),k.keyup(function(a){27==a.keyCode&&(a.preventDefault(),c()&&e())}),l.keydown(function(b){var c;9==b.which?e():40==b.which?(c=a(b.target).parent().next().find(".userwidget-link"),c.length||(c=l.first())):38==b.which&&(c=a(b.target).parent().prev().find(".userwidget-link"),c.length||(c=l.last())),c&&(c.length&&c.focus(),b.preventDefault(),b.stopPropagation())}),a(document).click(function(){d()})}),(document.URL.indexOf(".qaols.")>0||document.URL.indexOf(".qa.")>0)&&a(document).ready(function(){i.find("#profile").attr("href","https://portal.qaols.phoenix.edu/profile"),i.find("#myaccount").attr("href","https://ecampus.qaols.phoenix.edu/financialplan"),i.find("#log").attr("href","https://ecampus.qaols.phoenix.edu/portal/portal/secure/LogOut.aspx")})})}}});